<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Methods · GenX</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://genxproject.github.io/GenX/stable/methods/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GenX</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">Welcome Page</span><ul><li><a class="tocitem" href="../">GenX: Introduction</a></li><li><a class="tocitem" href="../how_to_run_genx/">Running GenX Cases</a></li><li><a class="tocitem" href="../multi_stage_genx/">Multi-Stage Capacity Expansion Planning with GenX</a></li><li><a class="tocitem" href="../limitations_genx/">Limitation of GenX</a></li><li><a class="tocitem" href="../third_party_genx/">Third Party Extensions</a></li></ul></li><li><span class="tocitem">Model Concept and Overview</span><ul><li><a class="tocitem" href="../model_introduction/">Model Introduction</a></li><li><a class="tocitem" href="../model_notation/">Notation</a></li><li><a class="tocitem" href="../objective_function/">Objective Function</a></li><li><a class="tocitem" href="../power_balance/">Power Balance</a></li></ul></li><li><span class="tocitem">Model Function Reference</span><ul><li><a class="tocitem" href="../core/">Core</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../flexible_demand/">Flexible Demand</a></li><li><input class="collapse-toggle" id="menuitem-3-2-3" type="checkbox"/><label class="tocitem" for="menuitem-3-2-3"><span class="docs-label">Hydro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../hydro_res/">Hydro Reservoir</a></li><li><a class="tocitem" href="../hydro_inter_period_linkage/">Long Duration Hydro</a></li></ul></li><li><a class="tocitem" href="../must_run/">Must Run</a></li><li><input class="collapse-toggle" id="menuitem-3-2-5" type="checkbox"/><label class="tocitem" for="menuitem-3-2-5"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../storage/">Storage</a></li><li><a class="tocitem" href="../investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../storage_all/">Storage All</a></li><li><a class="tocitem" href="../storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../storage_symmetric/">Storage Symmetric</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-6" type="checkbox"/><label class="tocitem" for="menuitem-3-2-6"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../thermal/">Thermal</a></li><li><a class="tocitem" href="../thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../thermal_no_commit/">Thermal No Commit</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Multi_stage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../configure_multi_stage_inputs/">Configure multi-stage inputs</a></li><li><a class="tocitem" href="../dual_dynamic_programming/">Model multi stage: Dual Dynamic Programming Algorithm</a></li></ul></li><li><a class="tocitem" href="../policies/">Policies</a></li><li><a class="tocitem" href="../slack_variables_overview/">Slack Variables for Policies</a></li></ul></li><li class="is-active"><a class="tocitem" href>Methods</a><ul class="internal"><li><a class="tocitem" href="#Time-Domain-Reduction-(TDR)"><span>Time Domain Reduction (TDR)</span></a></li><li><a class="tocitem" href="#Multi-Stage-Modeling"><span>Multi-Stage Modeling</span></a></li></ul></li><li><a class="tocitem" href="../solver_configuration/">Solver Configurations</a></li><li><a class="tocitem" href="../solve_model/">Solving the Model</a></li><li><span class="tocitem">Model Inputs/Outputs Documentation</span><ul><li><a class="tocitem" href="../data_documentation/">Single-stage Model</a></li><li><a class="tocitem" href="../multi_stage_model_overview/">Multi-stage Model</a></li></ul></li><li><a class="tocitem" href="../load_inputs/">GenX Inputs Functions</a></li><li><a class="tocitem" href="../write_outputs/">GenX Outputs Functions</a></li><li><a class="tocitem" href="../additional_features/">Additional Features</a></li><li><a class="tocitem" href="../additional_third_party_extensions/">Third Party Extensions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Methods</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Methods</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenXProject/GenX/blob/main/docs/src/methods.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h1><h2 id="Time-Domain-Reduction-(TDR)"><a class="docs-heading-anchor" href="#Time-Domain-Reduction-(TDR)">Time Domain Reduction (TDR)</a><a id="Time-Domain-Reduction-(TDR)-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Domain-Reduction-(TDR)" title="Permalink"></a></h2><p>Rather than modeling and optimizing power grid operations at a high temporal resolution (e.g., hourly, over a full year) while evaluating new capacity investments, which can be computationally expensive for large-scale studies with several resources, it may be useful to consider a reduced temporal resolution to model annual grid operations. Such a time-domain reduction is often employed in capacity expansion models as a way to balance model spatial and temporal resolution as well as representation of dispatch, while ensuring reasonable computational times. The time-domain reduction method provided allows the user to automate these features while specifying the various parameters of the time-domain reduction &#39;clustering&#39; algorithm to be used in formulating the resulting optimization model.</p><h3 id="Running-a-case-with-Time-Domain-Reduction"><a class="docs-heading-anchor" href="#Running-a-case-with-Time-Domain-Reduction">Running a case with Time Domain Reduction</a><a id="Running-a-case-with-Time-Domain-Reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Running-a-case-with-Time-Domain-Reduction" title="Permalink"></a></h3><p>There are two ways to run a case with a reduced (e.g. less than full-year) temporal resolution.</p><ol><li>Let GenX perform the time domain reduction before optimizing.</li><li>Bring your own clustered data</li></ol><p>It&#39;s also possible for GenX perform clustering separately from the optimization task.</p><h3 id="Method-1:-Let-GenX-perform-the-time-domain-reduction-(clustering)"><a class="docs-heading-anchor" href="#Method-1:-Let-GenX-perform-the-time-domain-reduction-(clustering)">Method 1: Let GenX perform the time domain reduction (clustering)</a><a id="Method-1:-Let-GenX-perform-the-time-domain-reduction-(clustering)-1"></a><a class="docs-heading-anchor-permalink" href="#Method-1:-Let-GenX-perform-the-time-domain-reduction-(clustering)" title="Permalink"></a></h3><p>Set <code>TimeDomainReduction: 1</code> in the GenX settings for the case.</p><p>When the case is run (but before the optimization model is built),  reduced time series data will be output to a folder within the case, (typically) <code>TDR_Results</code>. Note that if the data already exists in that folder, it will <em>not</em> be overwritten. If a user wants to change the time domain reduction settings and try again, the folder should be deleted before the case is run.</p><p>The clustering is done according to the settings in <code>time_domain_reduction.yml</code>. These are described in the Inputs section of <a href="../data_documentation/">data_documentation</a>.</p><p>Time domain clustering can only be performed on data which represents a single contiguous period: typically a year of 8760 or 8736 hours.</p><p>The header of the file <code>Load_data.csv</code> in the main case folder will typically look like this:</p><pre><code class="nohighlight hljs">..., Rep_Periods, Timesteps_per_Rep_Period, Sub_Weights, ...
               1,                     8760,        8760,</code></pre><p>For an example that uses this method, see <code>Example_Systems/RealSystemExample/ISONE_Singlezone</code>.</p><h3 id="Method-2:-Bring-your-own-clustered-data"><a class="docs-heading-anchor" href="#Method-2:-Bring-your-own-clustered-data">Method 2: Bring your own clustered data</a><a id="Method-2:-Bring-your-own-clustered-data-1"></a><a class="docs-heading-anchor-permalink" href="#Method-2:-Bring-your-own-clustered-data" title="Permalink"></a></h3><p>The second method is to use an external program to generate the reduced (&#39;clustered&#39;) time series data. For instance, <a href="https://github.com/PowerGenome/PowerGenome">PowerGenome</a> has a capability to construct GenX cases with clustered time series data.</p><p>Running using this method <strong>requires</strong> setting <code>TimeDomainReduction: 0</code> in the GenX settings for the case.</p><p>Clustered time series data requires specifying the clustering data using three columns in <code>Load_data.csv</code>: <code>Rep_Periods</code>, <code>Timesteps_per_Rep_Period</code>, and <code>Sub_Weights</code>. For example, a problem representing a full year via 3 representative weeks, and where the first week represents one which is twice as common as the others, would look like</p><pre><code class="nohighlight hljs">..., Rep_Periods, Timesteps_per_Rep_Period, Sub_Weights, ...
               3,                      168,      4368.0,
                                                 2184.0,
                                                 2184.0,</code></pre><p>In this example, the first week represents a total of <code>26*168 = 4368</code> hours over a full year.</p><p>The time series data are written in single unbroken columns: in this example, the <code>Time_Index</code> ranges from 1 to 504.</p><p>For problems involving Long Duration Storage, a file <code>Period_map.csv</code> is necessary to describe how these representative periods occur throughout the modeled year.</p><p>See also the Inputs section of <a href="../data_documentation/">data_documentation</a>.</p><p>For an example that uses this method, see <code>Example_Systems/RealSystemExample/ISONE_Trizone</code>.</p><h3 id="Performing-time-domain-reduction-(TDR)-separately-from-optimization"><a class="docs-heading-anchor" href="#Performing-time-domain-reduction-(TDR)-separately-from-optimization">Performing time domain reduction (TDR) separately from optimization</a><a id="Performing-time-domain-reduction-(TDR)-separately-from-optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Performing-time-domain-reduction-(TDR)-separately-from-optimization" title="Permalink"></a></h3><p><em>Added in 0.3.4</em></p><p>It may be useful to perform time domain reduction (TDR) (or &quot;clustering&quot;) on a set of inputs before using them as part of full GenX optimization task. For example, a user might want to test various TDR settings and examine the resulting clustered inputs. This can now be performed using the <code>run_timedomainreduction!</code> function.</p><pre><code class="nohighlight hljs">&gt; julia --project=/home/youruser/GenX

julia&gt; using GenX
julia&gt; run_timedomainreduction!(&quot;/path/to/case&quot;)</code></pre><p>This function will obey the settings in <code>path/to/case/Settings/time_domain_reduction_settings.yml</code>. It will output the resulting clustered time series files in the case.</p><p>Running this function will <em>overwrite</em> these files in the case. This is done with the expectation that the user is trying out various settings.</p><h3 id="Developer&#39;s-docs-for-internal-functions-related-to-time-domain-reduction"><a class="docs-heading-anchor" href="#Developer&#39;s-docs-for-internal-functions-related-to-time-domain-reduction">Developer&#39;s docs for internal functions related to time domain reduction</a><a id="Developer&#39;s-docs-for-internal-functions-related-to-time-domain-reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Developer&#39;s-docs-for-internal-functions-related-to-time-domain-reduction" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="GenX.RemoveConstCols" href="#GenX.RemoveConstCols"><code>GenX.RemoveConstCols</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">RemoveConstCols(all_profiles, all_col_names)</code></pre><p>Remove and store the columns that do not vary during the period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L267-L272">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.check_condition-NTuple{5, Any}" href="#GenX.check_condition-NTuple{5, Any}"><code>GenX.check_condition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_condition(Threshold, R, OldColNames, ScalingMethod, TimestepsPerRepPeriod)</code></pre><p>Check whether the greatest Euclidean deviation in the input data and the clustered representation is within a given proportion of the &quot;maximum&quot; possible deviation.</p><p>(1 for Normalization covers 100%, 4 for Standardization covers ~95%)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L175-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.cluster" href="#GenX.cluster"><code>GenX.cluster</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cluster(ClusterMethod, ClusteringInputDF, NClusters, nIters)</code></pre><p>Get representative periods using cluster centers from kmeans or kmedoids.</p><p>K-Means: https://juliastats.org/Clustering.jl/dev/kmeans.html</p><p>K-Medoids:  https://juliastats.org/Clustering.jl/stable/kmedoids.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L206-L216">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.cluster_inputs" href="#GenX.cluster_inputs"><code>GenX.cluster_inputs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cluster_inputs(inpath, settings_path, v=false, norm_plot=false, silh_plot=false, res_plots=false, indiv_plots=false, pair_plots=false)</code></pre><p>Use kmeans or kmedoids to cluster raw load profiles and resource capacity factor profiles into representative periods. Use Extreme Periods to capture noteworthy periods or periods with notably poor fits.</p><p>In Load_data.csv, include the following:</p><ul><li>Timesteps_per_Rep_Period - Typically 168 timesteps (e.g., hours) per period, this designates the length   of each representative period.</li><li>UseExtremePeriods - Either 1 or 0, this designates whether or not to include  outliers (by performance or load/resource extreme) as their own representative periods.  This setting automatically includes the periods with maximum load, minimum solar cf and  minimum wind cf as extreme periods.</li><li>ClusterMethod - Either &#39;kmeans&#39; or &#39;kmedoids&#39;, this designates the method used to cluster  periods and determine each point&#39;s representative period.</li><li>ScalingMethod - Either &#39;N&#39; or &#39;S&#39;, this designates directs the module to normalize ([0,1])  or standardize (mean 0, variance 1) the input data.</li><li>MinPeriods - The minimum number of periods used to represent the input data. If using  UseExtremePeriods, this must be at least three. If IterativelyAddPeriods if off,  this will be the total number of periods.</li><li>MaxPeriods - The maximum number of periods - both clustered periods and extreme periods -  that may be used to represent the input data.</li><li>IterativelyAddPeriods - Either 1 or 0, this designates whether or not to add periods  until the error threshold between input data and represented data is met or the maximum  number of periods is reached.</li><li>Threshold - Iterative period addition will end if the period farthest (Euclidean Distance)  from its representative period is within this percentage of the total possible error (for normalization)  or ~95% of the total possible error (for standardization). E.g., for a threshold of 0.01,  every period must be within 1% of the spread of possible error before the clustering  iterations will terminate (or until the max number of periods is reached).</li><li>IterateMethod - Either &#39;cluster&#39; or &#39;extreme&#39;, this designates whether to add clusters to  the kmeans/kmedoids method or to set aside the worst-fitting periods as a new extreme periods.</li><li>nReps - The number of times to repeat each kmeans/kmedoids clustering at the same setting.</li><li>LoadWeight - Default 1, this is an optional multiplier on load columns in order to prioritize  better fits for load profiles over resource capacity factor profiles.</li><li>WeightTotal - Default 8760, the sum to which the relative weights of representative periods will be scaled.</li><li>ClusterFuelPrices - Either 1 or 0, this indicates whether or not to use the fuel price  time series in Fuels_data.csv in the clustering process. If &#39;no&#39;, this function will still write  Fuels_data_clustered.csv with reshaped fuel prices based on the number and size of the  representative weeks, assuming a constant time series of fuel prices with length equal to the  number of timesteps in the raw input data.</li><li>MultiStageConcatenate - (Only considered if MultiStage = 1 in genx_settings.yml)  If 1, this designates that the model should time domain reduce the input data   of all model stages together. Else if 0, [still in development] the model will time domain reduce only   the first stage and will apply the periods of each other model stage to this set   of representative periods by closest Eucliden distance.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L469-L517">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_absolute_extreme-NTuple{4, Any}" href="#GenX.get_absolute_extreme-NTuple{4, Any}"><code>GenX.get_absolute_extreme</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_absolute_extreme(DF, statKey, col_names, ConstCols)</code></pre><p>Get the period index of the single timestep with the minimum or maximum load or capacity factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L356-L362">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_extreme_period" href="#GenX.get_extreme_period"><code>GenX.get_extreme_period</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_extreme_period(DF, GDF, profKey, typeKey, statKey,
   ConstCols, load_col_names, solar_col_names, wind_col_names)</code></pre><p>Identify extreme week by specification of profile type (Load, PV, Wind), measurement type (absolute (timestep with min/max value) vs. integral (period with min/max summed value)), and statistic (minimum or maximum). I.e., the user could want the hour with the most load across the whole system to be included among the extreme periods. They would select &quot;Load&quot;, &quot;System, &quot;Absolute, and &quot;Max&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L291-L304">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_integral_extreme-NTuple{4, Any}" href="#GenX.get_integral_extreme-NTuple{4, Any}"><code>GenX.get_integral_extreme</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_integral_extreme(GDF, statKey, col_names, ConstCols)</code></pre><p>Get the period index with the minimum or maximum load or capacity factor summed over the period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L337-L344">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_load_multipliers" href="#GenX.get_load_multipliers"><code>GenX.get_load_multipliers</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_load_multipliers(ClusterOutputData, ModifiedData, M, W, LoadCols, TimestepsPerRepPeriod, NewColNames, NClusters, Ncols)</code></pre><p>Get multipliers to linearly scale clustered load profiles L zone-wise such that their weighted sum equals the original zonal total load. Scale load profiles later using these multipliers in order to ensure that a copy of the original load is kept for validation.</p><p>Find <span>$k_z$</span> such that:</p><p class="math-container">\[\sum_{i \in I} L_{i,z} = \sum_{t \in T, m \in M} C_{t,m,z} \cdot \frac{w_m}{T} \cdot k_z   \: \: \: \forall z \in Z\]</p><p>where <span>$Z$</span> is the set of zones, <span>$I$</span> is the full time domain, <span>$T$</span> is the length of one period (e.g., 168 for one week in hours), <span>$M$</span> is the set of representative periods, <span>$L_{i,z}$</span> is the original zonal load profile over time (hour) index <span>$i$</span>, <span>$C_{i,m,z}$</span> is the load in timestep <span>$i$</span> for representative period <span>$m$</span> in zone <span>$z$</span>, <span>$w_m$</span> is the weight of the representative period equal to the total number of hours that one hour in representative period <span>$m$</span> represents in the original profile, and <span>$k_z$</span> is the zonal load multiplier returned by the function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L399-L417">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.get_worst_period_idx-Tuple{Any}" href="#GenX.get_worst_period_idx-Tuple{Any}"><code>GenX.get_worst_period_idx</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_worst_period_idx(R)</code></pre><p>Get the index of the period that is farthest from its representative period by Euclidean distance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L195-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.parse_data-Tuple{Any}" href="#GenX.parse_data-Tuple{Any}"><code>GenX.parse_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_data(myinputs)</code></pre><p>Get load, solar, wind, and other curves from the input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.parse_multi_stage_data-Tuple{Any}" href="#GenX.parse_multi_stage_data-Tuple{Any}"><code>GenX.parse_multi_stage_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_mutli_period_data(inputs_dict)</code></pre><p>Get load, solar, wind, and other curves from multi-stage input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L95-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.rmse_score-Tuple{Any, Any}" href="#GenX.rmse_score-Tuple{Any, Any}"><code>GenX.rmse_score</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rmse_score(y_true, y_pred)</code></pre><p>Calculates Root Mean Square Error.</p><p class="math-container">\[RMSE = \sqrt{\frac{1}{n}\Sigma_{i=1}^{n}{\Big(\frac{d_i -f_i}{\sigma_i}\Big)^2}}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L22-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.scale_weights" href="#GenX.scale_weights"><code>GenX.scale_weights</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">scale_weights(W, H)</code></pre><p>Linearly scale weights W such that they sum to the desired number of timesteps (hours) H.</p><p class="math-container">\[w_j \leftarrow H \cdot \frac{w_j}{\sum_i w_i} \: \: \: \forall w_j \in W\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/5b9c0d66e4ecf16e755eb048ba00ca4025eb60d9/src/time_domain_reduction/time_domain_reduction.jl#L377-L387">source</a></section></article><h2 id="Multi-Stage-Modeling"><a class="docs-heading-anchor" href="#Multi-Stage-Modeling">Multi-Stage Modeling</a><a id="Multi-Stage-Modeling-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Stage-Modeling" title="Permalink"></a></h2><p>GenX can be configured for multi-stage modeling with perfect foresight. The dual dynamic program (DDP) algorithm is a well-known approach for solving multi-stage optimization problems in a computationally efficient manner, first proposed by Pereira and Pinto (1991). This algorithm splits up a multi-stage investment planning problem into multiple, single-period sub-problems. Each period is solved iteratively as a separate linear program sub-problem (“forward pass”), and information from future periods is shared with past periods (“backwards pass”) so that investment decisions made in subsequent iterations reflect the contributions of present-day investments to future costs. Multi-period modeling functionality is designed as a &quot;wrapper&quot; around GenX, and to the extent possible, existing methods were left unchanged.</p><p>The time-domain reduction method provided allows the user to automate these feature by specifying the various parameters related to the time-domain reduction algorithm (via time_domain_reduction_settings.yml described under  Model Inputs/Outputs documentations/Inputs), including the desired level of temporal resolution to be used in formulating the resulting optimization model.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../slack_variables_overview/">« Slack Variables for Policies</a><a class="docs-footer-nextpage" href="../solver_configuration/">Solver Configurations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 18 May 2023 20:49">Thursday 18 May 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
