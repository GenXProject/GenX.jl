<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Policies · GenX.jl</title><meta name="title" content="Policies · GenX.jl"/><meta property="og:title" content="Policies · GenX.jl"/><meta property="twitter:title" content="Policies · GenX.jl"/><meta name="description" content="Documentation for GenX.jl."/><meta property="og:description" content="Documentation for GenX.jl."/><meta property="twitter:description" content="Documentation for GenX.jl."/><meta property="og:url" content="https://genxproject.github.io/GenX.jl/stable/Model_Reference/policies/"/><meta property="twitter:url" content="https://genxproject.github.io/GenX.jl/stable/Model_Reference/policies/"/><link rel="canonical" href="https://genxproject.github.io/GenX.jl/stable/Model_Reference/policies/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/genx_style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="GenX.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="GenX.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome Page</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">GenX: Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li><li><a class="tocitem" href="../../limitations_genx/">Limitation of GenX</a></li><li><a class="tocitem" href="../../third_party_genx/">Third Party Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting_Started/examples_casestudies/">Running GenX</a></li><li><a class="tocitem" href="../../Getting_Started/commercial_solvers/">Commertial solvers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/Tutorials_intro/">Tutorials Overview</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_1_configuring_settings/">Tutorial 1: Configuring Settings</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_2_network_visualization/">Tutorial 2: Network Visualization</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_3_K-means_time_domain_reduction/">Tutorial 3: K-Means and Time Domain Reduction</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_4_model_generation/">Tutorial 4: Model Generation</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_5_solve_model/">Tutorial 5: Solving the Model</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_6_solver_settings/">Tutorial 6: Solver Settings</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_7_setup/">Tutorial 7: Policy Constraints</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_8_outputs/">Tutorial 8: Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../User_Guide/workflow/">Overall workflow</a></li><li><a class="tocitem" href="../../User_Guide/model_configuration/">Model Configuration</a></li><li><a class="tocitem" href="../../User_Guide/solver_configuration/">Solver Configuration</a></li><li><a class="tocitem" href="../../User_Guide/model_input/">Model Inputs</a></li><li><a class="tocitem" href="../../User_Guide/TDR_input/">Time-domain Reduction Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_TDR/">Running the Time-domain Reduction</a></li><li><a class="tocitem" href="../../User_Guide/generate_alternatives/">MGA package</a></li><li><a class="tocitem" href="../../User_Guide/multi_stage_input/">Multi-stage Model</a></li><li><a class="tocitem" href="../../User_Guide/slack_variables_overview/">Slack Variables for Policies</a></li><li><a class="tocitem" href="../../User_Guide/methodofmorris_input/">Method of Morris Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_model/">Running the Model</a></li><li><a class="tocitem" href="../../User_Guide/model_output/">Model Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Model Concept and Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Concept_Overview/model_introduction/">Model Introduction</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/model_notation/">Notation</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/objective_function/">Objective Function</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/power_balance/">Power Balance</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox" checked/><label class="tocitem" for="menuitem-6"><span class="docs-label">Model Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../core/">Core</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Resources/curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../Resources/flexible_demand/">Flexible Demand</a></li><li><input class="collapse-toggle" id="menuitem-6-2-3" type="checkbox"/><label class="tocitem" for="menuitem-6-2-3"><span class="docs-label">Hydro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Resources/hydro_res/">Hydro Reservoir</a></li><li><a class="tocitem" href="../Resources/hydro_inter_period_linkage/">Long Duration Hydro</a></li></ul></li><li><a class="tocitem" href="../Resources/must_run/">Must Run</a></li><li><a class="tocitem" href="../Resources/retrofit/">Retrofit</a></li><li><input class="collapse-toggle" id="menuitem-6-2-6" type="checkbox"/><label class="tocitem" for="menuitem-6-2-6"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Resources/storage/">Storage</a></li><li><a class="tocitem" href="../Resources/investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../Resources/investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../Resources/long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../Resources/storage_all/">Storage All</a></li><li><a class="tocitem" href="../Resources/storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../Resources/storage_symmetric/">Storage Symmetric</a></li></ul></li><li><a class="tocitem" href="../Resources/vre_stor/">Co-located VRE and Storage</a></li><li><input class="collapse-toggle" id="menuitem-6-2-8" type="checkbox"/><label class="tocitem" for="menuitem-6-2-8"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Resources/thermal/">Thermal</a></li><li><a class="tocitem" href="../Resources/thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../Resources/thermal_no_commit/">Thermal No Commit</a></li></ul></li><li><a class="tocitem" href="../Resources/electrolyzers/">Hydrogen Electrolyzers</a></li><li><a class="tocitem" href="../Resources/maintenance/">Scheduled maintenance for various resources</a></li><li><a class="tocitem" href="../Resources/resource/">Resource types</a></li></ul></li><li><a class="tocitem" href="../maintenance_overview/">Maintenance</a></li><li class="is-active"><a class="tocitem" href>Policies</a><ul class="internal"><li><a class="tocitem" href="#Capacity-Reserve-Margin"><span>Capacity Reserve Margin</span></a></li><li><a class="tocitem" href="#CO_2-Constraint-Policy"><span>CO<span>$_2$</span> Constraint Policy</span></a></li><li><a class="tocitem" href="#Energy-Share-Requirement"><span>Energy Share Requirement</span></a></li><li><a class="tocitem" href="#Minimum-Capacity-Requirement"><span>Minimum Capacity Requirement</span></a></li><li><a class="tocitem" href="#Maximum-Capacity-Requirement"><span>Maximum Capacity Requirement</span></a></li><li><a class="tocitem" href="#Hydrogen-Production-Demand-Requirement-(Electrolyzer)"><span>Hydrogen Production Demand Requirement (Electrolyzer)</span></a></li><li><a class="tocitem" href="#Hourly-clean-supply-matching-constraint"><span>Hourly clean supply matching constraint</span></a></li></ul></li><li><a class="tocitem" href="../solver_configuration_api/">Solver Configurations</a></li><li><a class="tocitem" href="../load_inputs/">Inputs Functions</a></li><li><a class="tocitem" href="../generate_model/">Generate the Model</a></li><li><a class="tocitem" href="../solve_model/">Solving the Model</a></li><li><a class="tocitem" href="../TDR/">Time-domain Reduction</a></li><li><a class="tocitem" href="../write_outputs/">Outputs Functions</a></li><li><a class="tocitem" href="../mga/">Modeling to Generate Alternatives</a></li><li><input class="collapse-toggle" id="menuitem-6-12" type="checkbox"/><label class="tocitem" for="menuitem-6-12"><span class="docs-label">Multi-stage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Multi_Stage/multi_stage_overview/">Multi-Stage Modeling Introduction</a></li><li><a class="tocitem" href="../Multi_Stage/configure_multi_stage_inputs/">Configure multi-stage inputs</a></li><li><a class="tocitem" href="../Multi_Stage/dual_dynamic_programming/">Model multi stage: Dual Dynamic Programming Algorithm</a></li><li><a class="tocitem" href="../Multi_Stage/endogenous_retirement/">Endogenous Retirement</a></li></ul></li><li><a class="tocitem" href="../methodofmorris/">Method of Morris</a></li><li><a class="tocitem" href="../utility_functions/">Utility Functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Public API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Public_API/public_api/">Public API</a></li></ul></li><li><a class="tocitem" href="../../additional_third_party_extensions/">Third Party Extensions</a></li><li><a class="tocitem" href="../../developer_guide/">Developer Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model Reference</a></li><li class="is-active"><a href>Policies</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Policies</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl/blob/main/docs/src/Model_Reference/policies.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Emission-mitigation-policies"><a class="docs-heading-anchor" href="#Emission-mitigation-policies">Emission mitigation policies</a><a id="Emission-mitigation-policies-1"></a><a class="docs-heading-anchor-permalink" href="#Emission-mitigation-policies" title="Permalink"></a></h1><h2 id="Capacity-Reserve-Margin"><a class="docs-heading-anchor" href="#Capacity-Reserve-Margin">Capacity Reserve Margin</a><a id="Capacity-Reserve-Margin-1"></a><a class="docs-heading-anchor-permalink" href="#Capacity-Reserve-Margin" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.cap_reserve_margin!" href="#GenX.cap_reserve_margin!"><code>GenX.cap_reserve_margin!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cap_reserve_margin!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>Instead of modeling capacity reserve margin requirement (a.k.a. capacity market or resource adequacy requirement) using an annual constraint, we model each requirement with hourly constraint by simulating the activation of the capacity obligation. We define capacity reserve margin constraint for subsets of zones, <span>$z \in \mathcal{Z}^{CRM}_{p}$</span>, and each subset stands for a locational deliverability area (LDA) or a reserve sharing group. For thermal resources, the available capacity is the total capacity in the LDA derated by the outage rate, <span>$\epsilon_{y,z,p}^{CRM}$</span>. For variable renewable energy (<span>$y \in \mathcal{VRE}$</span>), the available capacity is the maximum discharge potential in time step <span>$t$</span> derated by the derating factor. For standalone storage and co-located VRE and storage resources (<span>$y \in \mathcal{O} \cup \mathcal{VS}$</span>) the available capacity is the net injection into the transmission network plus the net virtual injection corresponding to charge held in reserve, derated by the derating factor. For information on how each component contributes to the capacity reserve margin formulation for co-located VRE and storage resources, see <code>vre_stor_capres!()</code>. For flexible demand resources (<span>$y \in \mathcal{DF}$</span>), the available capacity is the net injection into the transmission network in time step <span>$t$</span> derated by the derating factor, also stored in the parameter, <span>$\epsilon_{y,z,p}^{CRM}$</span>. If the imported capacity is eligible to provide capacity to the CRM constraint, the inbound powerflow on all lines <span>$\mathcal{L}_{p}^{in}$</span> in time step <span>$t$</span> will be derated to form the available capacity from outside of the LDA. The reverse is true as well: the outbound derated powerflow on all lines <span>$\mathcal{L}_{p}^{out}$</span> in time step <span>$t$</span> is taken out from the total available capacity. The derating factor should be equal to the expected availability of the resource during periods when the capacity reserve constraint is binding (e.g. accounting for forced outages during supply constrained periods) and is similar to derating factors used in the capacity markets. On top of the flexible demand resources, demand curtailment can also provide capacity (i.e., demand response or load management). We allow all segments of voluntary demand curtailment, <span>$s \geq 2 \in S$</span>, to contribute to capacity requirements. The first segment <span>$s = 1 \in S$</span> corresponds to involuntary demand curtailment or emergency load shedding at the price cap or value of lost demand, and thus does not contribute to reserve requirements. Note that the time step-weighted sum of the shadow prices of this constraint corresponds to the capacity market payments reported by ISOs with mandate capacity market mechanism.</p><p class="math-container">\[\begin{aligned}
	&amp; \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \Big( \sum_{y \in \mathcal{H}} \epsilon_{y,z,p}^{CRM} \times \Delta^{\text{total}}_{y,z} + \sum_{y \in \mathcal{VRE}} \epsilon_{y,z,p}^{CRM} \times \rho^{max}_{y,z,t} \\
	&amp; + \sum_{y \in \mathcal{O}} \epsilon_{y,z,p}^{CRM} \times \left(\Theta_{y,z,t} + \Theta^{CRM}_{o,z,t} - \Pi^{CRM}_{o,z,t} - \Pi_{y,z,t} \right) + \sum_{y \in \mathcal{DF}} \epsilon_{y,z,p}^{CRM} \times \left(\Pi_{y,z,t} - \Theta_{y,z,t} \right) \\
	&amp; + \sum_{y \in \mathcal{VS}^{pv}} (\epsilon_{y,z,p}^{CRM} \times \eta^{inverter}_{y,z} \times \rho^{max,pv}_{y,z,t} \times \Delta^{total,pv}_{y,z}) \\
	&amp; + \sum_{y \in \mathcal{VS}^{wind}} (\epsilon_{y,z,p}^{CRM} \times \rho^{max,wind}_{y,z,t} \times \Delta^{total,wind}_{y,z}) \\
    &amp; + \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,dis}} (\epsilon_{y,z,p}^{CRM} \times \eta^{inverter}_{y,z} \times (\Theta^{dc}_{y,z,t} + \Theta^{CRM,dc}_{y,z,t})) \\
    &amp; + \sum_{y \in \mathcal{VS}^{sym,ac} \cup \mathcal{VS}^{asym,ac,dis}} (\epsilon_{y,z,p}^{CRM} \times (\Theta^{ac}_{y,z,t} + \Theta^{CRM,ac}_{y,z,t})) \\
    &amp; - \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}} (\epsilon_{y,z,p}^{CRM} \times \frac{\Pi^{dc}_{y,z,t} + \Pi^{CRM,dc}_{y,z,t}}{\eta^{inverter}_{y,z}}) \\
    &amp; - \sum_{y \in \mathcal{VS}^{sym,dc} \cup \mathcal{VS}^{asym,dc,cha}} (\epsilon_{y,z,p}^{CRM} \times (\Pi^{ac}_{y,z,t} + \Pi^{CRM,ac}_{y,z,t})) \\
	&amp; + \sum_{l \in \mathcal{L}_{p}^{in}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t} -  \sum_{l \in \mathcal{L}_{p}^{out}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t}
   	+  \sum_{s \geq 2} \Lambda_{s,t,z}  \Big) \\
   	&amp; \geq \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \left( \left(1 + RM_{z,p}^{CRM} \right) \times D_{z,t} \right)  \hspace{1 cm}  \forall t \in \mathcal{T}, \forall p\in \mathcal{P}^{CRM}
\end{aligned}\]</p><p>Note that multiple capacity reserve margin requirements can be specified covering different individual zones or aggregations of zones, where the total number of constraints is specified by the GenX settings parameter <code>CapacityReserveMargin</code> (where this parameter should be an integer value &gt; 0). The expressions establishing the capacity reserve margin contributions of each technology class are included in their respective technology modules.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/cap_reserve_margin.jl#L1-L58">source</a></section></article><h2 id="CO_2-Constraint-Policy"><a class="docs-heading-anchor" href="#CO_2-Constraint-Policy">CO<span>$_2$</span> Constraint Policy</a><a id="CO_2-Constraint-Policy-1"></a><a class="docs-heading-anchor-permalink" href="#CO_2-Constraint-Policy" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.co2_cap!" href="#GenX.co2_cap!"><code>GenX.co2_cap!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">co2_cap!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>This policy constraints mimics the CO<span>$_2$</span> emissions cap and permit trading systems, allowing for emissions trading across each zone for which the cap applies. The constraint <span>$p \in \mathcal{P}^{CO_2}$</span> can be flexibly defined for mass-based or rate-based emission limits for one or more model zones, where zones can trade CO<span>$_2$</span> emissions permits and earn revenue based on their CO<span>$_2$</span> allowance. Note that if the model is fully linear (e.g. no unit commitment or linearized unit commitment), the dual variable of the emissions constraints can be interpreted as the marginal CO<span>$_2$</span> price per tonne associated with the emissions target. Alternatively, for integer model formulations, the marginal CO<span>$_2$</span> price can be obtained after solving the model with fixed integer/binary variables.</p><p>The CO<span>$_2$</span> emissions limit can be defined in one of the following ways: a) a mass-based limit defined in terms of annual CO<span>$_2$</span> emissions budget (in million tonnes of CO2), b) a demand-side rate-based limit defined in terms of tonnes CO<span>$_2$</span> per MWh of fulfilled demand and c) a generation-side rate-based limit defined in terms of tonnes CO<span>$_2$</span> per MWh of generation.</p><p><strong>Mass-based emissions constraint</strong></p><p>Mass-based emission limits are implemented in the following expression. For each constraint, <span>$p \in \mathcal{P}^{CO_2}_{mass}$</span>, we define a set of zones <span>$z \in \mathcal{Z}^{CO_2}_{p,mass}$</span> that can trade CO<span>$_2$</span> allowance. Input data for each constraint  <span>$p \in \mathcal{P}^{CO_2}_{mass}$</span> requires the CO<span>$_2$</span> allowance/ budget for each model zone, <span>$\epsilon^{CO_{2}}_{z,p, mass}$</span>, to be provided in terms of million metric tonnes. For every generator <span>$y$</span>, the parameter <span>$\epsilon_{y,z}^{CO_2}$</span> reflects the specific <span>$CO_2$</span> emission intensity in tCO<span>$_2$</span>/MWh associated with its operation. The resulting constraint is given as:</p><p class="math-container">\[\begin{aligned}
    \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,z,t} \right)
   &amp; \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,mass}} \epsilon^{CO_{2}}_{z,p, mass} \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{mass}
\end{aligned}\]</p><p>In the above constraint, we include both power discharge and charge term for each resource to account for the potential for CO<span>$_2$</span> emissions (or removal when considering negative emissions technologies) associated with each step. Note that if a limit is applied to each zone separately, then the set <span>$\mathcal{Z}^{CO_2}_{p,mass}$</span> will contain only one zone with no possibility of trading. If a system-wide emission limit constraint is applied, then <span>$\mathcal{Z}^{CO_2}_{p,mass}$</span> will be equivalent to a set of all zones.</p><p><strong>Demand-side rate-based emissions constraint</strong></p><p>We modify the right hand side of the above mass-based constraint, <span>$p \in \mathcal{P}^{CO_2}_{demand}$</span>, to set emissions target based on a CO<span>$_2$</span> emission rate limit in tCO<span>$_2$</span>/MWh <span>$\times$</span> the total demand served (fulfilled) in each zone. In the following constraint, total demand served takes into account non-served energy and storage related losses. Here, <span>$\epsilon_{z,p,demand}^{maxCO_2}$</span> denotes the emission limit in terms on tCO<span>$_2$</span>/MWh.</p><p class="math-container">\[\begin{aligned}
    \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right)
    \leq &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{t \in \mathcal{T}}
    \left(\epsilon_{z,p,demand}^{CO_2} \times  \omega_{t} \times D_{z,t} \right) \\
    + &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{y \in \mathcal{O} \cup \mathcal{VS}^{stor}} \sum_{t \in \mathcal{T}}
    \left(\epsilon_{z,p,demand}^{CO_2} \times \omega_{t} \times \left(\Pi_{y,t,z} - \Theta_{y,t,z} \right) \right) \\
    - &amp; \sum_{z \in \mathcal{Z}^{CO_2}_{p,demand}} \sum_{s \in \mathcal{S} } \sum_{t \in \mathcal{T}}  \left(\epsilon_{z,p,demand}^{CO_2} \times \omega_{t} \times \Lambda_{s,z,t}\right) \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{demand}
\end{aligned}\]</p><p><strong>Generator-side emissions rate-based constraint</strong></p><p>Similarly, a generation based emission constraint is defined by setting the emission limit based on the total generation times the carbon emission rate limit in tCO<span>$_2$</span>/MWh of the region. The resulting constraint is given as:</p><p class="math-container">\[\begin{aligned}
\sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} &amp; \left(\epsilon_{y,z}^{CO_2} \times \omega_{t} \times \Theta_{y,t,z} \right) \\
    \leq \sum_{z \in \mathcal{Z}^{CO_2}_{p,gen}} \sum_{y \in \mathcal{G}} \sum_{t \in \mathcal{T}} &amp; \left(\epsilon_{z,p,gen}^{CO_2} \times  \omega_{t} \times \Theta_{y,t,z} \right)  \hspace{1 cm}  \forall p \in \mathcal{P}^{CO_2}_{gen}
\end{aligned}\]</p><p>Note that the generator-side rate-based constraint can be used to represent a fee-rebate (``feebate&#39;&#39;) system: the dirty generators that emit above the bar (<span>$\epsilon_{z,p,gen}^{maxCO_2}$</span>) have to buy emission allowances from the emission regulator in the region <span>$z$</span> where they are located; in the same vein, the clean generators get rebates from the emission regulator at an emission allowance price being the dual variable of the emissions rate constraint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/co2_cap.jl#L1-L67">source</a></section></article><h2 id="Energy-Share-Requirement"><a class="docs-heading-anchor" href="#Energy-Share-Requirement">Energy Share Requirement</a><a id="Energy-Share-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Energy-Share-Requirement" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.load_energy_share_requirement!" href="#GenX.load_energy_share_requirement!"><code>GenX.load_energy_share_requirement!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_energy_share_requirement!(setup::Dict, path::AbstractString, inputs::Dict)</code></pre><p>Read input parameters related to minimum energy share requirement constraints (e.g. renewable portfolio standard or clean electricity standard policies)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/load_inputs/load_energy_share_requirement.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.energy_share_requirement!" href="#GenX.energy_share_requirement!"><code>GenX.energy_share_requirement!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">energy_share_requirement!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>This function establishes constraints that can be flexibily applied to define alternative forms of policies that require generation of a minimum quantity of megawatt-hours from a set of qualifying resources, such as renewable portfolio standard (RPS) or clean electricity standard (CES) policies prevalent in different jurisdictions. These policies usually require that the annual MWh generation from a subset of qualifying generators has to be higher than a pre-specified percentage of demand from qualifying zones. The implementation allows for user to define one or multiple RPS/CES style minimum energy share constraints, where each constraint can cover different combination of model zones to mimic real-world policy implementation (e.g. multiple state policies, multiple RPS tiers or overlapping RPS and CES policies). Including an energy share requirement constraint is specified by the user by the value of the GenX settings parameter <code>EnergyShareRequirement</code> (this value should either 0 or 1). For each constraint <span>$p \in \mathcal{P}^{ESR}$</span>, we define a subset of zones <span>$z \in \mathcal{Z}^{ESR}_{p} \subset \mathcal{Z}$</span> that are eligible for trading renewable/clean energy credits to meet the corresponding renewable/clean energy requirement. For each energy share requirement constraint <span>$p \in \mathcal{P}^{ESR}$</span>, we specify the share of total demand in each eligible model zone, <span>$z \in \mathcal{Z}^{ESR}_{p}$</span>, that must be served by qualifying resources, <span>$\mathcal{G}_{p}^{ESR} \subset \mathcal{G}$</span>:</p><p class="math-container">\[\begin{aligned}
&amp;\sum_{z \in \mathcal{Z}_{p}^{ESR}} \sum_{y \in \mathcal{G}_{p}^{ESR}} \sum_{t \in \mathcal{T}} (\omega_{t} \times  \Theta_{y,z,t}) \geq  \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} (\mu_{p,z}^{ESR} \times \omega_{t} \times D_{z,t}) + \\
&amp;\sum_{y \in \mathcal{VS}^{stor}} \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} \left(\mu_{p,z}^{ESR} \times \omega_{t} \times (\frac{\Pi^{dc}_{y,z,t}}{\eta_{y,z}^{inverter}} + \Pi^{ac}_{y,z,t} - \eta_{y,z}^{inverter} \times \Theta^{dc}_{y,z,t} - \Theta^{ac}_{y,z,t}) \right) + \\
&amp;\sum_{y \in \mathcal{O}} \sum_{z \in \mathcal{Z}^{ESR}_{p}} \sum_{t \in \mathcal{T}} \left(\mu_{p,z}^{ESR} \times \omega_{t} \times (\Pi_{y,z,t} - \Theta_{y,z,t}) \right) \hspace{1 cm}  \forall p \in \mathcal{P}^{ESR} \\
\end{aligned}\]</p><p>The final two terms in the summation above adds roundtrip storage losses to the total demand to which the energy share obligation applies. This term is included in the constraint if the GenX setup parameter <code>StorageLosses=1</code>. If <code>StorageLosses=0</code>, this term is removed from the constraint. In practice, most existing renewable portfolio standard policies do not account for storage losses when determining energy share requirements. However, with 100% RPS or CES policies enacted in several jurisdictions, policy makers may wish to include storage losses in the minimum energy share, as otherwise there will be a difference between total generation and total demand that will permit continued use of non-qualifying resources (e.g. emitting generators).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/energy_share_requirement.jl#L1-L25">source</a></section></article><h2 id="Minimum-Capacity-Requirement"><a class="docs-heading-anchor" href="#Minimum-Capacity-Requirement">Minimum Capacity Requirement</a><a id="Minimum-Capacity-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Capacity-Requirement" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.minimum_capacity_requirement!" href="#GenX.minimum_capacity_requirement!"><code>GenX.minimum_capacity_requirement!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">minimum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>The minimum capacity requirement constraint allows for modeling minimum deployment of a certain technology or set of eligible technologies across the eligible model zones and can be used to mimic policies supporting specific technology build out (i.e. capacity deployment targets/mandates for storage, offshore wind, solar etc.). The default unit of the constraint is in MW. For each requirement <span>$p \in \mathcal{P}^{MinCapReq}$</span>, we model the policy with the following constraint.</p><p class="math-container">\[\begin{aligned}
\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z} } \left( \epsilon_{y,z,p}^{MinCapReq} \times \Delta^{\text{total}}_{y,z} \right) \geq REQ_{p}^{MinCapReq} \hspace{1 cm}  \forall p \in \mathcal{P}^{MinCapReq}
\end{aligned}\]</p><p>Note that <span>$\epsilon_{y,z,p}^{MinCapReq}$</span> is the eligiblity of a generator of technology <span>$y$</span> in zone <span>$z$</span> of requirement <span>$p$</span> and will be equal to <span>$1$</span> for eligible generators and will be zero for ineligible resources. The dual value of each minimum capacity constraint can be interpreted as the required payment (e.g. subsidy) per MW per year required to ensure adequate revenue for the qualifying resources.</p><p>Also note that co-located VRE and storage resources, there are three different components  	that minimum capacity requirements can be created for. The capacity of solar PV (in AC terms  	since the capacity is multiplied by the inverter efficiency), the capacity of wind, and the discharge  	capacity of storage (power to energy ratio times the energy capacity) can all have minimum capacity  	requirements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/minimum_capacity_requirement.jl#L1-L16">source</a></section></article><h2 id="Maximum-Capacity-Requirement"><a class="docs-heading-anchor" href="#Maximum-Capacity-Requirement">Maximum Capacity Requirement</a><a id="Maximum-Capacity-Requirement-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Capacity-Requirement" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.load_maximum_capacity_requirement!-Tuple{AbstractString, Dict, Dict}" href="#GenX.load_maximum_capacity_requirement!-Tuple{AbstractString, Dict, Dict}"><code>GenX.load_maximum_capacity_requirement!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_maximum_capacity_requirement!(path::AbstractString, inputs::Dict, setup::Dict)</code></pre><p>Read input parameters related to maximum capacity requirement constraints (e.g. technology specific deployment mandates)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/load_inputs/load_maximum_capacity_requirement.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.maximum_capacity_requirement!-Tuple{JuMP.Model, Dict, Dict}" href="#GenX.maximum_capacity_requirement!-Tuple{JuMP.Model, Dict, Dict}"><code>GenX.maximum_capacity_requirement!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">maximum_capacity_requirement!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>The maximum capacity requirement constraint allows for modeling maximum deployment of a certain technology or set of eligible technologies across the eligible model zones and can be used to mimic policies supporting specific technology build out (i.e. capacity deployment targets/mandates for storage, offshore wind, solar etc.). The default unit of the constraint is in MW. For each requirement <span>$p \in \mathcal{P}^{MaxCapReq}$</span>, we model the policy with the following constraint.</p><p class="math-container">\[\begin{aligned}
\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z} } \left( \epsilon_{y,z,p}^{MaxCapReq} \times \Delta^{\text{total}}_{y,z} \right) \leq REQ_{p}^{MaxCapReq} \hspace{1 cm}  \forall p \in \mathcal{P}^{MaxCapReq}
\end{aligned}\]</p><p>Note that <span>$\epsilon_{y,z,p}^{MaxCapReq}$</span> is the eligiblity of a generator of technology <span>$y$</span> in zone <span>$z$</span> of requirement <span>$p$</span> and will be equal to <span>$1$</span> for eligible generators and will be zero for ineligible resources. The dual value of each maximum capacity constraint can be interpreted as the required payment (e.g. subsidy) per MW per year required to ensure adequate revenue for the qualifying resources.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/maximum_capacity_requirement.jl#L1-L10">source</a></section></article><h2 id="Hydrogen-Production-Demand-Requirement-(Electrolyzer)"><a class="docs-heading-anchor" href="#Hydrogen-Production-Demand-Requirement-(Electrolyzer)">Hydrogen Production Demand Requirement (Electrolyzer)</a><a id="Hydrogen-Production-Demand-Requirement-(Electrolyzer)-1"></a><a class="docs-heading-anchor-permalink" href="#Hydrogen-Production-Demand-Requirement-(Electrolyzer)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.hydrogen_demand!" href="#GenX.hydrogen_demand!"><code>GenX.hydrogen_demand!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hydrogen_demand!(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>This policy constraints add hydrogen prodcution demand requirement for electrolyzers.</p><p>The hydrogen demand requirement can be defined as a zonal limit defined in terms of annual hydrogen production (in 1,000 tonnes of hydrogen).</p><p><strong>Minimum annual hydrogen production</strong></p><p><strong>Zonal limit</strong> The sum of annual hydrogen production by each electrolyzer <span>$y \in \mathcal{EL}$</span> must exceed a minimum quantity specified in inputs in &quot;Hydrogen_demand.csv&quot;:</p><p class="math-container">\[\begin{aligned}
	\sum_{t \in T} (\omega_{t} \times \Pi_{y,t} / \eta^{electrolyzer}_y) \geq \mathcal{Min\_kt}_z \times 10^3
	\hspace{1cm} \forall y \in \mathcal{EL}
\end{aligned}\]</p><p>where <span>$\eta^{electrolyzer}_y$</span> is the efficiency of the electrolyzer <span>$y$</span> in megawatt-hours (MWh) of electricity per metric tonne of hydrogen produced and <span>$\mathcal{Min\_kt}_z$</span> is the minimum annual quantity of hydrogen that must be produced in region <span>$z$</span> in kilotonnes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/hydrogen_demand.jl#L1-L22">source</a></section></article><h2 id="Hourly-clean-supply-matching-constraint"><a class="docs-heading-anchor" href="#Hourly-clean-supply-matching-constraint">Hourly clean supply matching constraint</a><a id="Hourly-clean-supply-matching-constraint-1"></a><a class="docs-heading-anchor-permalink" href="#Hourly-clean-supply-matching-constraint" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.hourly_matching!-Tuple{JuMP.Model, Dict}" href="#GenX.hourly_matching!-Tuple{JuMP.Model, Dict}"><code>GenX.hourly_matching!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hourly_matching!(EP::Model, inputs::Dict)</code></pre><p>This module defines the hourly matching policy constraint.  This constraint can be enabled by setting <code>HourlyMatching==1</code> in <code>genx_settings.yml</code>) requires generation from qualified resources (<span>$y \in \mathcal{Qualified}$</span>, indicated by <code>Qualified_Supply==1</code> in the <code>Resource_hourly_matching.csv</code> files) to be &gt;= hourly consumption from electrolyzers in the zone and any charging by qualified storage within the zone used to help increase electrolyzer utilization:</p><p class="math-container">\[\begin{aligned}
	\sum_{y \in \{z \cap \mathcal{Qualified}\}} \Theta_{y,t} \geq \sum_{y \in \{z \cap \mathcal{EL}\}} \Pi_{y,t} + \sum_{y \in \{z \cap \mathcal{Qualified} \cap \mathcal{STOR}\}}  \Pi_{y,t}
	\hspace{1cm} \forall z \in \mathcal{Z}, \forall t \in \mathcal{T},
\end{aligned}\]</p><p><strong>Arguments</strong></p><ul><li><code>EP::Model</code>: The optimization model object.</li><li><code>inputs::Dict</code>: A dictionary containing input data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/20a976d0cf79d09a96893c12b9a53814bdcc11ba/src/model/policies/hourly_matching.jl#L1-L18">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../maintenance_overview/">« Maintenance</a><a class="docs-footer-nextpage" href="../solver_configuration_api/">Solver Configurations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.6.0 on <span class="colophon-date" title="Wednesday 21 August 2024 13:34">Wednesday 21 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
