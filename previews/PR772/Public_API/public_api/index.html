<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public API · GenX.jl</title><meta name="title" content="Public API · GenX.jl"/><meta property="og:title" content="Public API · GenX.jl"/><meta property="twitter:title" content="Public API · GenX.jl"/><meta name="description" content="Documentation for GenX.jl."/><meta property="og:description" content="Documentation for GenX.jl."/><meta property="twitter:description" content="Documentation for GenX.jl."/><meta property="og:url" content="https://genxproject.github.io/GenX.jl/stable/Public_API/public_api/"/><meta property="twitter:url" content="https://genxproject.github.io/GenX.jl/stable/Public_API/public_api/"/><link rel="canonical" href="https://genxproject.github.io/GenX.jl/stable/Public_API/public_api/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/genx_style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="GenX.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="GenX.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome Page</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">GenX: Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li><li><a class="tocitem" href="../../limitations_genx/">Limitation of GenX</a></li><li><a class="tocitem" href="../../third_party_genx/">Third Party Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting_Started/examples_casestudies/">Running GenX</a></li><li><a class="tocitem" href="../../Getting_Started/commercial_solvers/">Commertial solvers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/Tutorials_intro/">Tutorials Overview</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_1_configuring_settings/">Tutorial 1: Configuring Settings</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_2_network_visualization/">Tutorial 2: Network Visualization</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_3_K-means_time_domain_reduction/">Tutorial 3: K-Means and Time Domain Reduction</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_4_model_generation/">Tutorial 4: Model Generation</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_5_solve_model/">Tutorial 5: Solving the Model</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_6_solver_settings/">Tutorial 6: Solver Settings</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_7_setup/">Tutorial 7: Policy Constraints</a></li><li><a class="tocitem" href="../../Tutorials/Tutorial_8_outputs/">Tutorial 8: Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../User_Guide/workflow/">Overall workflow</a></li><li><a class="tocitem" href="../../User_Guide/model_configuration/">Model Configuration</a></li><li><a class="tocitem" href="../../User_Guide/solver_configuration/">Solver Configuration</a></li><li><a class="tocitem" href="../../User_Guide/model_input/">Model Inputs</a></li><li><a class="tocitem" href="../../User_Guide/TDR_input/">Time-domain Reduction Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_TDR/">Running the Time-domain Reduction</a></li><li><a class="tocitem" href="../../User_Guide/generate_alternatives/">MGA package</a></li><li><a class="tocitem" href="../../User_Guide/multi_stage_input/">Multi-stage Model</a></li><li><a class="tocitem" href="../../User_Guide/slack_variables_overview/">Slack Variables for Policies</a></li><li><a class="tocitem" href="../../User_Guide/methodofmorris_input/">Method of Morris Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_model/">Running the Model</a></li><li><a class="tocitem" href="../../User_Guide/model_output/">Model Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Model Concept and Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Concept_Overview/model_introduction/">Model Introduction</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/model_notation/">Notation</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/objective_function/">Objective Function</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/power_balance/">Power Balance</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Model Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/core/">Core</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/flexible_demand/">Flexible Demand</a></li><li><input class="collapse-toggle" id="menuitem-6-2-3" type="checkbox"/><label class="tocitem" for="menuitem-6-2-3"><span class="docs-label">Hydro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/hydro_res/">Hydro Reservoir</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/hydro_inter_period_linkage/">Long Duration Hydro</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/must_run/">Must Run</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/retrofit/">Retrofit</a></li><li><input class="collapse-toggle" id="menuitem-6-2-6" type="checkbox"/><label class="tocitem" for="menuitem-6-2-6"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/storage/">Storage</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_all/">Storage All</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_symmetric/">Storage Symmetric</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/vre_stor/">Co-located VRE and Storage</a></li><li><input class="collapse-toggle" id="menuitem-6-2-8" type="checkbox"/><label class="tocitem" for="menuitem-6-2-8"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/thermal/">Thermal</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/thermal_no_commit/">Thermal No Commit</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/maintenance/">Scheduled maintenance for Thermal Commit</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/fusion/">Fusion</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/allam_cycle/">Allam Cycle</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/electrolyzers/">Hydrogen Electrolyzers</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/resource/">Resource types</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/policies/">Policies</a></li><li><a class="tocitem" href="../../Model_Reference/solver_configuration_api/">Solver Configurations</a></li><li><a class="tocitem" href="../../Model_Reference/load_inputs/">Inputs Functions</a></li><li><a class="tocitem" href="../../Model_Reference/generate_model/">Generate the Model</a></li><li><a class="tocitem" href="../../Model_Reference/solve_model/">Solving the Model</a></li><li><a class="tocitem" href="../../Model_Reference/TDR/">Time-domain Reduction</a></li><li><a class="tocitem" href="../../Model_Reference/write_outputs/">Outputs Functions</a></li><li><a class="tocitem" href="../../Model_Reference/mga/">Modeling to Generate Alternatives</a></li><li><input class="collapse-toggle" id="menuitem-6-11" type="checkbox"/><label class="tocitem" for="menuitem-6-11"><span class="docs-label">Multi-stage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/multi_stage_overview/">Multi-Stage Modeling Introduction</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/configure_multi_stage_inputs/">Configure multi-stage inputs</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/dual_dynamic_programming/">Model multi stage: Dual Dynamic Programming Algorithm</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/endogenous_retirement/">Endogenous Retirement</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/methodofmorris/">Method of Morris</a></li><li><a class="tocitem" href="../../Model_Reference/utility_functions/">Utility Functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">Public API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Public API</a><ul class="internal"><li><a class="tocitem" href="#Multi-stage-specific-functions"><span>Multi-stage specific functions</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../additional_third_party_extensions/">Third Party Extensions</a></li><li><a class="tocitem" href="../../developer_guide/">Developer Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Public API Reference</a></li><li class="is-active"><a href>Public API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Public API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl/blob/main/docs/src/Public_API/public_api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-Documentation"><a class="docs-heading-anchor" href="#Public-Documentation">Public Documentation</a><a id="Public-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Public-Documentation" title="Permalink"></a></h1><p>Documentation for GenX public interface.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.run_genx_case!" href="#GenX.run_genx_case!"><code>GenX.run_genx_case!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_genx_case!(case::AbstractString, optimizer::Any=HiGHS.Optimizer)</code></pre><p>Run a GenX case with the specified optimizer. The optimizer can be any solver supported by MathOptInterface.</p><p><strong>Arguments</strong></p><ul><li><code>case::AbstractString</code>: the path to the case folder</li><li><code>optimizer::Any</code>: the optimizer instance to be used in the optimization model</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">run_genx_case!(&quot;path/to/case&quot;, HiGHS.Optimizer)</code></pre><pre><code class="language-julia hljs">run_genx_case!(&quot;path/to/case&quot;, Gurobi.Optimizer)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/case_runners/case_runner.jl#L13-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.configure_settings" href="#GenX.configure_settings"><code>GenX.configure_settings</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">configure_settings(settings_path::String, output_settings_path::String)</code></pre><p>Reads in the settings from the <code>genx_settings.yml</code> and <code>output_settings.yml</code> YAML files and merges them with the default settings. It then validates the settings and returns the settings dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>settings_path::String</code>: The path to the settings YAML file.</li><li><code>output_settings_path::String</code>: The path to the output settings YAML file.</li></ul><p><strong>Returns</strong></p><ul><li><code>settings::Dict</code>: The settings dictionary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/configure_settings/configure_settings.jl#L43-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.configure_solver" href="#GenX.configure_solver"><code>GenX.configure_solver</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">configure_solver(solver_settings_path::String, optimizer::Any)</code></pre><p>This method returns a solver-specific <code>MathOptInterface.OptimizerWithAttributes</code> optimizer instance to be used in the <code>GenX.generate\_model()</code> method.</p><p><strong>Arguments</strong></p><ul><li><code>solver_settings_path::String</code>: specifies the path to the directory that contains the settings YAML file for the specified solver.</li><li><code>optimizer::Any</code>: the optimizer instance to be configured.</li></ul><p>Currently supported solvers include: &quot;Gurobi&quot;, &quot;CPLEX&quot;, &quot;Clp&quot;, &quot;Cbc&quot;, or &quot;SCIP&quot;</p><p><strong>Returns</strong></p><ul><li><code>optimizer::MathOptInterface.OptimizerWithAttributes</code>: the configured optimizer instance.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/configure_solver/configure_solver.jl#L9-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.load_inputs" href="#GenX.load_inputs"><code>GenX.load_inputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_inputs(setup::Dict,path::AbstractString)</code></pre><p>Loads various data inputs from multiple input .csv files in path directory and stores variables in a Dict (dictionary) object for use in model() function</p><p>inputs: setup - dict object containing setup parameters path - string path to working directory</p><p>returns: Dict (dictionary) object containing all data inputs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/load_inputs/load_inputs.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.load_dataframe" href="#GenX.load_dataframe"><code>GenX.load_dataframe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_dataframe(path::AbstractString)</code></pre><p>Attempts to load a dataframe from a csv file with the given path. If it&#39;s not found immediately, it will look for files with a different case (lower/upper) in the file&#39;s basename.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/load_inputs/load_dataframe.jl#L31-L37">source</a></section><section><div><pre><code class="language-julia hljs">load_dataframe(dir::AbstractString, base::AbstractString)</code></pre><p>Attempts to load a dataframe from a csv file with the given directory and file name. If not found immediately, look for files with a different case (lower/upper) in the file&#39;s basename.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/load_inputs/load_dataframe.jl#L43-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.generate_model" href="#GenX.generate_model"><code>GenX.generate_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_model(setup::Dict,inputs::Dict,OPTIMIZER::MOI.OptimizerWithAttributes,modeloutput = nothing)</code></pre><p>This function sets up and solves a constrained optimization model of electricity system capacity expansion and operation problem and extracts solution variables for later processing.</p><p>In addition to calling a number of other modules to create constraints for specific resources, policies, and transmission assets, this function initializes two key expressions that are successively expanded in each of the resource-specific modules: (1) the objective function; and (2) the zonal power balance expression. These two expressions are the only expressions which link together individual modules (e.g. resources, transmission assets, policies), which otherwise are self-contained in defining relevant variables, expressions, and constraints.</p><p><strong>Objective Function</strong></p><p>The objective function of GenX minimizes total annual electricity system costs over the following six components shown in the equation below:</p><p class="math-container">\[\begin{aligned}
	&amp;\sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z}}
	\left( (\pi^{INVEST}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Omega_{y,z})
	+ (\pi^{FOM}_{y,z} \times \overline{\Omega}^{size}_{y,z} \times  \Delta^{total}_{y,z})\right) + \notag \\
	&amp;\sum_{y \in \mathcal{O} } \sum_{z \in \mathcal{Z}}
	\left( (\pi^{INVEST,energy}_{y,z} \times    \Omega^{energy}_{y,z})
	+ (\pi^{FOM,energy}_{y,z} \times  \Delta^{total,energy}_{y,z})\right) + \notag \\
	&amp;\sum_{y \in \mathcal{O}^{asym} } \sum_{z \in \mathcal{Z}}
	\left( (\pi^{INVEST,charge}_{y,z} \times    \Omega^{charge}_{y,z})
	+ (\pi^{FOM,charge}_{y,z} \times  \Delta^{total,charge}_{y,z})\right) + \notag \\
	&amp; \sum_{y \in \mathcal{G} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times(\pi^{VOM}_{y,z} + \pi^{FUEL}_{y,z})\times \Theta_{y,z,t}\right) + \sum_{y \in \mathcal{O \cup DF} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}} \left( \omega_{t}\times\pi^{VOM,charge}_{y,z} \times \Pi_{y,z,t}\right) +\notag \\
	&amp;\sum_{s \in \mathcal{S} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}}\left(\omega_{t} \times n_{s}^{slope} \times \Lambda_{s,z,t}\right) + \sum_{t \in \mathcal{T} } \left(\omega_{t} \times \pi^{unmet}_{rsv} \times r^{unmet}_{t}\right) \notag \\
	&amp;\sum_{y \in \mathcal{H} } \sum_{z \in \mathcal{Z}} \sum_{t \in \mathcal{T}}\left(\omega_{t} \times \pi^{START}_{y,z} \times \chi_{s,z,t}\right) + \notag \\
	&amp; \sum_{l \in \mathcal{L}}\left(\pi^{TCAP}_{l} \times \bigtriangleup\varphi^{max}_{l}\right)
\end{aligned}\]</p><p>The first summation represents the fixed costs of generation/discharge over all zones and technologies, which refects the sum of the annualized capital cost, <span>$\pi^{INVEST}_{y,z}$</span>, times the total new capacity added (if any),  plus the Fixed O&amp;M cost, <span>$\pi^{FOM}_{y,z}$</span>, times the net installed generation capacity, <span>$\overline{\Omega}^{size}_{y,z} \times \Delta^{total}_{y,z}$</span> (e.g., existing capacity less retirements plus additions).</p><p>The second summation corresponds to the fixed cost of installed energy storage capacity and is summed over only the storage resources. This term includes the sum of the annualized energy capital cost, <span>$\pi^{INVEST,energy}_{y,z}$</span>, times the total new energy capacity added (if any), plus the Fixed O&amp;M cost, <span>$\pi^{FOM, energy}_{y,z}$</span>, times the net installed energy storage capacity, <span>$\Delta^{total}_{y,z}$</span> (e.g., existing capacity less retirements plus additions).</p><p>The third summation corresponds to the fixed cost of installed charging power capacity and is summed over only over storage resources with independent/asymmetric charge and discharge power components (<span>$\mathcal{O}^{asym}$</span>). This term includes the sum of the annualized charging power capital cost, <span>$\pi^{INVEST,charge}_{y,z}$</span>, times the total new charging power capacity added (if any), plus the Fixed O&amp;M cost, <span>$\pi^{FOM, energy}_{y,z}$</span>, times the net installed charging power capacity, <span>$\Delta^{total}_{y,z}$</span> (e.g., existing capacity less retirements plus additions).</p><p>The fourth and fifth summations corresponds to the operational cost across all zones, technologies, and time steps. The fourth summation represents the sum of fuel cost, <span>$\pi^{FUEL}_{y,z}$</span> (if any), plus variable O&amp;M cost, <span>$\pi^{VOM}_{y,z}$</span> times the energy generation/discharge by generation or storage resources (or demand satisfied via flexible demand resources, <span>$y\in\mathcal{DF}$</span>) in time step <span>$t$</span>, <span>$\Theta_{y,z,t}$</span>, and the weight of each time step <span>$t$</span>, <span>$\omega_t$</span>, where <span>$\omega_t$</span> is equal to 1 when modeling grid operations over the entire year (8760 hours), but otherwise is equal to the number of hours in the year represented by the representative time step, <span>$t$</span> such that the sum of <span>$\omega_t \forall t \in T = 8760$</span>, approximating annual operating costs. The fifth summation represents the variable charging O&amp;M cost, <span>$\pi^{VOM,charge}_{y,z}$</span> times the energy withdrawn for charging by storage resources (or demand deferred by flexible demand resources) in time step <span>$t$</span> , <span>$\Pi_{y,z,t}$</span> and the annual weight of time step <span>$t$</span>,<span>$\omega_t$</span>.</p><p>The sixth summation represents the total cost of unserved demand across all segments <span>$s$</span> of a segment-wise price-elastic demand curve, equal to the marginal value of consumption (or cost of non-served energy), <span>$n_{s}^{slope}$</span>, times the amount of non-served energy, <span>$\Lambda_{y,z,t}$</span>, for each segment on each zone during each time step (weighted by <span>$\omega_t$</span>).</p><p>The seventh summation represents the total cost of not meeting hourly operating reserve requirements, where <span>$\pi^{unmet}_{rsv}$</span> is the cost penalty per unit of non-served reserve requirement, and <span>$r^{unmet}_t$</span> is the amount of non-served reserve requirement in each time step (weighted by <span>$\omega_t$</span>).</p><p>The eighth summation corresponds to the startup costs incurred by technologies to which unit commitment decisions apply (e.g. <span>$y \in \mathcal{UC}$</span>), equal to the cost of start-up, <span>$\pi^{START}_{y,z}$</span>, times the number of startup events, <span>$\chi_{y,z,t}$</span>, for the cluster of units in each zone and time step (weighted by <span>$\omega_t$</span>).</p><p>The last term corresponds to the transmission reinforcement or construction costs, for each transmission line in the model. Transmission reinforcement costs are equal to the sum across all lines of the product between the transmission reinforcement/construction cost, <span>$\pi^{TCAP}_{l}$</span>, times the additional transmission capacity variable, <span>$\bigtriangleup\varphi^{max}_{l}$</span>. Note that fixed O\&amp;M and replacement capital costs (depreciation) for existing transmission capacity is treated as a sunk cost and not included explicitly in the GenX objective function.</p><p>In summary, the objective function can be understood as the minimization of costs associated with five sets of different decisions: (1) where and how to invest on capacity, (2) how to dispatch or operate that capacity, (3) which consumer demand segments to serve or curtail, (4) how to cycle and commit thermal units subject to unit commitment decisions, (5) and where and how to invest in additional transmission network capacity to increase power transfer capacity between zones. Note however that each of these components are considered jointly and the optimization is performed over the whole problem at once as a monolithic co-optimization problem.</p><p><strong>Power Balance</strong></p><p>The power balance constraint of the model ensures that electricity demand is met at every time step in each zone. As shown in the constraint, electricity demand, <span>$D_{t,z}$</span>, at each time step and for each zone must be strictly equal to the sum of generation, <span>$\Theta_{y,z,t}$</span>, from thermal technologies (<span>$\mathcal{H}$</span>), curtailable VRE (<span>$\mathcal{VRE}$</span>), must-run resources (<span>$\mathcal{MR}$</span>), and hydro resources (<span>$\mathcal{W}$</span>). At the same time, energy storage devices (<span>$\mathcal{O}$</span>) can discharge energy, <span>$\Theta_{y,z,t}$</span> to help satisfy demand, while when these devices are charging, <span>$\Pi_{y,z,t}$</span>, they increase demand. For the case of flexible demand resources (<span>$\mathcal{DF}$</span>), delaying demand (equivalent to charging virtual storage), <span>$\Pi_{y,z,t}$</span>, decreases demand while satisfying delayed demand (equivalent to discharging virtual demand), <span>$\Theta_{y,z,t}$</span>, increases demand. Price-responsive demand curtailment, <span>$\Lambda_{s,z,t}$</span>, also reduces demand. Finally, power flows, <span>$\Phi_{l,t}$</span>, on each line <span>$l$</span> into or out of a zone (defined by the network map <span>$\varphi^{map}_{l,z}$</span>), are considered in the demand balance equation for each zone. By definition, power flows leaving their reference zone are positive, thus the minus sign in the below constraint. At the same time losses due to power flows increase demand, and one-half of losses across a line linking two zones are attributed to each connected zone. The losses function <span>$\beta_{l,t}(\cdot)$</span> will depend on the configuration used to model losses (see Transmission section).</p><p class="math-container">\[\begin{aligned}
	&amp; \sum_{y\in \mathcal{H}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{VRE}}{\Theta_{y,z,t}} +\sum_{y\in \mathcal{MR}}{\Theta_{y,z,t}} + \sum_{y\in \mathcal{O}}{(\Theta_{y,z,t}-\Pi_{y,z,t})} + \notag\\
	&amp; \sum_{y\in \mathcal{DF}}{(-\Theta_{y,z,t}+\Pi_{y,z,t})} +\sum_{y\in \mathcal{W}}{\Theta_{y,z,t}}+ \notag\\
	&amp;+ \sum_{s\in \mathcal{S}}{\Lambda_{s,z,t}}  - \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \Phi_{l,t})} -\frac{1}{2} \sum_{l\in \mathcal{L}}{(\varphi^{map}_{l,z} \times \beta_{l,t}(\cdot))} = D_{z,t}
	\forall z\in \mathcal{Z},  t \in \mathcal{T}
\end{aligned}\]</p><p><strong>Arguments</strong></p><ul><li><code>setup::Dict</code>: Dictionary containing the settings for the model.</li><li><code>inputs::Dict</code>: Dictionary containing the inputs for the model.</li><li><code>OPTIMIZER::MOI.OptimizerWithAttributes</code>: The optimizer to use for solving the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>Model</code>: The model object containing the entire optimization problem model to be solved by solve_model.jl</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/model/generate_model.jl#L1-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.solve_model" href="#GenX.solve_model"><code>GenX.solve_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_model(EP::Model, setup::Dict)</code></pre><p>Description: Solves and extracts solution variables for later processing</p><p><strong>Arguments</strong></p><ul><li><code>EP::Model</code>: a JuMP model representing the energy optimization problem</li><li><code>setup::Dict</code>: a Dict containing GenX setup flags</li></ul><p><strong>Returns</strong></p><ul><li><code>EP::Model</code>: the solved JuMP model</li><li><code>solver_time::Float64</code>: time taken to solve the model</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/model/solve_model.jl#L38-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.write_outputs" href="#GenX.write_outputs"><code>GenX.write_outputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_outputs(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)</code></pre><p>Function for the entry-point for writing the different output files. From here, onward several other functions are called, each for writing specific output files, like costs, capacities, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/write_outputs/write_outputs.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.mga" href="#GenX.mga"><code>GenX.mga</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mga(EP::Model, path::AbstractString, setup::Dict, inputs::Dict)</code></pre><p>We have implemented an updated Modeling to Generate Alternatives (MGA) Algorithm proposed by <a href="https://www.sciencedirect.com/science/article/pii/S0360544217304097">Berntsen and Trutnevyte (2017)</a> to generate a set of feasible, near cost-optimal technology portfolios. This algorithm was developed by <a href="https://pubsonline.informs.org/doi/abs/10.1287/mnsc.25.5.413">Brill Jr, E. D., 1979</a> and introduced to energy system planning by <a href="https://www.sciencedirect.com/science/article/pii/S0140988310000721">DeCarolia, J. F., 2011</a>.</p><p>To create the MGA formulation, we replace the cost-minimizing objective function of GenX with a new objective function that creates multiple generation portfolios by zone. We further add a new budget constraint based on the optimal objective function value <span>$f^*$</span> of the least-cost model and the user-specified value of slack <span>$\delta$</span>. After adding the slack constraint, the resulting MGA formulation is given as (<code>MGAAnnualGeneration = 0</code> in the genx_settings.yml file, or not set):</p><p class="math-container">\[\begin{aligned}
	\text{max/min} \quad
	&amp;\sum_{z \in \mathcal{Z}}\sum_{r \in \mathcal{R}} \beta_{z,r}^{k}P_{z,r}\\
	\text{s.t.} \quad
	&amp;P_{z,r} = \sum_{y \in \mathcal{G}}C_{y,z,r}  \\
	&amp; f \leq f^* + \delta \\
	&amp;Ax = b
\end{aligned}\]</p><p>where, <span>$\beta_{z,r}$</span> is a random objective function coefficient betwen <span>$[0,1]$</span> for MGA iteration <span>$k$</span>. We aggregate capacity into a new variable <span>$P_{z,r}$</span> that represents total capacity from technology type <span>$r$</span> in a zone <span>$z$</span>. </p><p>If the users set <code>MGAAnnualGeneration = 1</code> in the genx_settings.yml file, the MGA formulation is given as:</p><p class="math-container">\[\begin{aligned}
\text{max/min} \quad
	&amp;\sum_{z \in \mathcal{Z}}\sum_{r \in \mathcal{R}} \beta_{z,r}^{k}P_{z,r}\\
	\text{s.t.} \quad
	&amp;P_{z,r} = \sum_{y \in \mathcal{G}}\sum_{t \in \mathcal{T}} \omega_{t} \Theta_{y,t,z,r}  \\
	&amp; f \leq f^* + \delta \\
	&amp;Ax = b
\end{aligned}\]</p><p>where, <span>$\beta_{z,r}$</span> is a random objective function coefficient betwen <span>$[0,1]$</span> for MGA iteration <span>$k$</span>. <span>$\Theta_{y,t,z,r}$</span> is a generation of technology <span>$y$</span> in zone <span>$z$</span> in time period <span>$t$</span> that belongs to a resource type <span>$r$</span>. We aggregate <span>$\Theta_{y,t,z,r}$</span> into a new variable <span>$P_{z,r}$</span> that represents total generation from technology type <span>$r$</span> in a zone <span>$z$</span>. </p><p>In the second constraint in both the above formulations, <span>$\delta$</span> denote the increase in budget from the least-cost solution and <span>$f$</span> represents the expression for the total system cost. The constraint <span>$Ax = b$</span> represents all other constraints in the power system model. We then solve the formulation with minimization and maximization objective function to explore near optimal solution space.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/additional_tools/modeling_to_generate_alternatives.jl#L1-L35">source</a></section></article><h2 id="Multi-stage-specific-functions"><a class="docs-heading-anchor" href="#Multi-stage-specific-functions">Multi-stage specific functions</a><a id="Multi-stage-specific-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-stage-specific-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.configure_settings_multistage" href="#GenX.configure_settings_multistage"><code>GenX.configure_settings_multistage</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">configure_settings_multistage(settings_path::String)</code></pre><p>Reads in the settings from the <code>multi_stage_settings.yml</code> YAML file and merges them with the default multistage settings. It then returns the settings dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>settings_path::String</code>: The path to the multistage settings YAML file.</li></ul><p><strong>Returns</strong></p><ul><li><code>settings::Dict</code>: The multistage settings dictionary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/configure_settings/configure_settings.jl#L184-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.configure_multi_stage_inputs" href="#GenX.configure_multi_stage_inputs"><code>GenX.configure_multi_stage_inputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function configure_multi_stage_inputs(inputs_d::Dict, settings_d::Dict, NetworkExpansion::Int64)</code></pre><p>This function overwrites input parameters read in via the load_inputs() method for proper configuration of multi-stage modeling:</p><ol><li><p>Overnight capital costs are computed via the compute_overnight_capital_cost() method and overwrite internal model representations of annualized investment costs.</p></li><li><p>Annualized fixed O&amp;M costs are scaled up to represent total fixed O&amp;M incured over the length of each model stage (specified by &quot;StageLength&quot; field in multi_stage_settings.yml).</p></li><li><p>Internal set representations of resources eligible for capacity retirements are overwritten to ensure compatability with multi-stage modeling.</p></li><li><p>When NetworkExpansion is active and there are multiple model zones, parameters related to transmission and network expansion are updated. First, annualized transmission reinforcement costs are converted into overnight capital costs. Next, the maximum allowable transmission line reinforcement parameter is overwritten by the model stage-specific value specified in the &quot;Line_Max_Flow_Possible_MW&quot; fields in the network_multi_stage.csv file. Finally, internal representations of lines eligible or not eligible for transmission expansion are overwritten based on the updated maximum allowable transmission line reinforcement parameters.</p></li></ol><p>inputs:</p><ul><li>inputs_d - dict object containing model inputs dictionary generated by load_inputs().</li><li>settings_d - dict object containing settings dictionary configured in the multi-stage settings file multi_stage_settings.yml.</li><li>NetworkExpansion - integer flag (0/1) indicating whether network expansion is on, set via the &quot;NetworkExpansion&quot; field in genx_settings.yml.</li></ul><p>returns: dictionary containing updated model inputs, to be used in the generate_model() method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/multi_stage/configure_multi_stage_inputs.jl#L62-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.run_ddp" href="#GenX.run_ddp"><code>GenX.run_ddp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_ddp(models_d::Dict, setup::Dict, inputs_d::Dict)</code></pre><p>This function run the dual dynamic programming (DDP) algorithm, as described in <a href="https://doi.org/10.1007/BF01582895">Pereira and Pinto (1991)</a>, and more recently, <a href="https://doi.org/10.1016/j.ejor.2018.05.039">Lara et al. (2018)</a>. Note that if the algorithm does not converge within 10,000 (currently hardcoded) iterations, this function will return models with sub-optimal solutions. However, results will still be printed as if the model is finished solving. This sub-optimal termination is noted in the output with the &#39;Exiting Without Covergence!&#39; message.</p><p>inputs:</p><ul><li>models_d – Dictionary which contains a JuMP model for each model period.</li><li>setup - Dictionary object containing GenX settings and key parameters.</li><li>inputs_d – Dictionary of inputs for each model stage, generated by the load_inputs() method.</li></ul><p>returns:</p><ul><li>models_d – Dictionary which contains a JuMP model for each model stage, modified by this method.</li><li>stats_d – Dictionary which contains the run time, upper bound, and lower bound of each DDP iteration.</li><li>inputs_d – Dictionary of inputs for each model stage, generated by the load_inputs() method, modified by this method.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/multi_stage/dual_dynamic_programming.jl#L125-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GenX.write_multi_stage_outputs" href="#GenX.write_multi_stage_outputs"><code>GenX.write_multi_stage_outputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_multi_stage_outputs(stats_d::Dict, 
    outpath::String, 
    settings_d::Dict, 
    inputs_dict::Dict)</code></pre><p>This function calls various methods which write multi-stage modeling outputs as .csv files.</p><p><strong>Arguments:</strong></p><ul><li>stats_d: Dictionary which contains the run time, upper bound, and lower bound of each DDP iteration.</li><li>outpath: String which represents the path to the Results directory.</li><li>settings_d: Dictionary containing settings configured in the GenX settings <code>genx_settings.yml</code> file as well as the multi-stage settings file <code>multi_stage_settings.yml</code>.</li><li>inputs_dict: Dictionary containing the input data for the multi-stage model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX.jl/blob/0080f0971bbfb92aca933f3b8d1d758707f10491/src/multi_stage/write_multi_stage_outputs.jl#L1-L14">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../Model_Reference/utility_functions/">« Utility Functions</a><a class="docs-footer-nextpage" href="../../additional_third_party_extensions/">Third Party Extensions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 24 January 2025 22:22">Friday 24 January 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
