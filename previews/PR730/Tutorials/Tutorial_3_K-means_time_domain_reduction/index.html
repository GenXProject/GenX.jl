<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial 3: K-Means and Time Domain Reduction · GenX.jl</title><meta name="title" content="Tutorial 3: K-Means and Time Domain Reduction · GenX.jl"/><meta property="og:title" content="Tutorial 3: K-Means and Time Domain Reduction · GenX.jl"/><meta property="twitter:title" content="Tutorial 3: K-Means and Time Domain Reduction · GenX.jl"/><meta name="description" content="Documentation for GenX.jl."/><meta property="og:description" content="Documentation for GenX.jl."/><meta property="twitter:description" content="Documentation for GenX.jl."/><meta property="og:url" content="https://genxproject.github.io/GenX.jl/stable/Tutorials/Tutorial_3_K-means_time_domain_reduction/"/><meta property="twitter:url" content="https://genxproject.github.io/GenX.jl/stable/Tutorials/Tutorial_3_K-means_time_domain_reduction/"/><link rel="canonical" href="https://genxproject.github.io/GenX.jl/stable/Tutorials/Tutorial_3_K-means_time_domain_reduction/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/genx_style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="GenX.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="GenX.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome Page</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">GenX: Introduction</a></li><li><a class="tocitem" href="../../installation/">Installation Guide</a></li><li><a class="tocitem" href="../../limitations_genx/">Limitation of GenX</a></li><li><a class="tocitem" href="../../third_party_genx/">Third Party Extensions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting_Started/examples_casestudies/">Running GenX</a></li><li><a class="tocitem" href="../../Getting_Started/commercial_solvers/">Commertial solvers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Tutorials_intro/">Tutorials Overview</a></li><li><a class="tocitem" href="../Tutorial_1_configuring_settings/">Tutorial 1: Configuring Settings</a></li><li><a class="tocitem" href="../Tutorial_2_network_visualization/">Tutorial 2: Network Visualization</a></li><li class="is-active"><a class="tocitem" href>Tutorial 3: K-Means and Time Domain Reduction</a></li><li><a class="tocitem" href="../Tutorial_4_model_generation/">Tutorial 4: Model Generation</a></li><li><a class="tocitem" href="../Tutorial_5_solve_model/">Tutorial 5: Solving the Model</a></li><li><a class="tocitem" href="../Tutorial_6_solver_settings/">Tutorial 6: Solver Settings</a></li><li><a class="tocitem" href="../Tutorial_7_setup/">Tutorial 7: Policy Constraints</a></li><li><a class="tocitem" href="../Tutorial_8_outputs/">Tutorial 8: Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../User_Guide/workflow/">Overall workflow</a></li><li><a class="tocitem" href="../../User_Guide/model_configuration/">Model Configuration</a></li><li><a class="tocitem" href="../../User_Guide/solver_configuration/">Solver Configuration</a></li><li><a class="tocitem" href="../../User_Guide/model_input/">Model Inputs</a></li><li><a class="tocitem" href="../../User_Guide/TDR_input/">Time-domain Reduction Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_TDR/">Running the Time-domain Reduction</a></li><li><a class="tocitem" href="../../User_Guide/generate_alternatives/">MGA package</a></li><li><a class="tocitem" href="../../User_Guide/multi_stage_input/">Multi-stage Model</a></li><li><a class="tocitem" href="../../User_Guide/slack_variables_overview/">Slack Variables for Policies</a></li><li><a class="tocitem" href="../../User_Guide/methodofmorris_input/">Method of Morris Inputs</a></li><li><a class="tocitem" href="../../User_Guide/running_model/">Running the Model</a></li><li><a class="tocitem" href="../../User_Guide/model_output/">Model Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Model Concept and Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Concept_Overview/model_introduction/">Model Introduction</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/model_notation/">Notation</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/objective_function/">Objective Function</a></li><li><a class="tocitem" href="../../Model_Concept_Overview/power_balance/">Power Balance</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Model Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/core/">Core</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/flexible_demand/">Flexible Demand</a></li><li><input class="collapse-toggle" id="menuitem-6-2-3" type="checkbox"/><label class="tocitem" for="menuitem-6-2-3"><span class="docs-label">Hydro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/hydro_res/">Hydro Reservoir</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/hydro_inter_period_linkage/">Long Duration Hydro</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/must_run/">Must Run</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/retrofit/">Retrofit</a></li><li><input class="collapse-toggle" id="menuitem-6-2-6" type="checkbox"/><label class="tocitem" for="menuitem-6-2-6"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/storage/">Storage</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_all/">Storage All</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/storage_symmetric/">Storage Symmetric</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/vre_stor/">Co-located VRE and Storage</a></li><li><input class="collapse-toggle" id="menuitem-6-2-8" type="checkbox"/><label class="tocitem" for="menuitem-6-2-8"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Resources/thermal/">Thermal</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/thermal_no_commit/">Thermal No Commit</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/Resources/electrolyzers/">Hydrogen Electrolyzers</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/maintenance/">Scheduled maintenance for various resources</a></li><li><a class="tocitem" href="../../Model_Reference/Resources/resource/">Resource types</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/maintenance_overview/">Maintenance</a></li><li><a class="tocitem" href="../../Model_Reference/policies/">Policies</a></li><li><a class="tocitem" href="../../Model_Reference/solver_configuration_api/">Solver Configurations</a></li><li><a class="tocitem" href="../../Model_Reference/load_inputs/">Inputs Functions</a></li><li><a class="tocitem" href="../../Model_Reference/generate_model/">Generate the Model</a></li><li><a class="tocitem" href="../../Model_Reference/solve_model/">Solving the Model</a></li><li><a class="tocitem" href="../../Model_Reference/TDR/">Time-domain Reduction</a></li><li><a class="tocitem" href="../../Model_Reference/write_outputs/">Outputs Functions</a></li><li><a class="tocitem" href="../../Model_Reference/mga/">Modeling to Generate Alternatives</a></li><li><input class="collapse-toggle" id="menuitem-6-12" type="checkbox"/><label class="tocitem" for="menuitem-6-12"><span class="docs-label">Multi-stage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/multi_stage_overview/">Multi-Stage Modeling Introduction</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/configure_multi_stage_inputs/">Configure multi-stage inputs</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/dual_dynamic_programming/">Model multi stage: Dual Dynamic Programming Algorithm</a></li><li><a class="tocitem" href="../../Model_Reference/Multi_Stage/endogenous_retirement/">Endogenous Retirement</a></li></ul></li><li><a class="tocitem" href="../../Model_Reference/methodofmorris/">Method of Morris</a></li><li><a class="tocitem" href="../../Model_Reference/utility_functions/">Utility Functions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Public API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Public_API/public_api/">Public API</a></li></ul></li><li><a class="tocitem" href="../../additional_third_party_extensions/">Third Party Extensions</a></li><li><a class="tocitem" href="../../developer_guide/">Developer Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Tutorial 3: K-Means and Time Domain Reduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial 3: K-Means and Time Domain Reduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GenXProject/GenX.jl/blob/main/docs/src/Tutorials/Tutorial_3_K-means_time_domain_reduction.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial-3:-K-Means-and-Time-Domain-Reduction"><a class="docs-heading-anchor" href="#Tutorial-3:-K-Means-and-Time-Domain-Reduction">Tutorial 3: K-Means and Time Domain Reduction</a><a id="Tutorial-3:-K-Means-and-Time-Domain-Reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-3:-K-Means-and-Time-Domain-Reduction" title="Permalink"></a></h1><p><a href="https://github.com/GenXProject/GenX-Tutorials/blob/main/Tutorials/Tutorial_3_K-means_Time_Domain_Reduction.ipynb">Interactive Notebook of the tutorial</a></p><p>A good tool to reduce computation time of GenX is to use <a href="../../User_Guide/TDR_input/#Time-domain-reduction">Time-domain reduction</a>. Time-domain Reduction is a method that selects a smaller set of time steps from the data in a way that reduces computation time while still capturing the main information of the model. In this tutorial, we go over how TDR works in GenX and how it uses K-means clustering to choose the optimal time steps. For more information on TDR in capacity expansion models, see <a href="https://www.sciencedirect.com/science/article/pii/S0360544218315238">Mallapragada et al</a>.</p><h3 id="Table-of-Contents"><a class="docs-heading-anchor" href="#Table-of-Contents">Table of Contents</a><a id="Table-of-Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Table-of-Contents" title="Permalink"></a></h3><ul><li><a href="#TDR">Time Domain Reduction</a></li><li><a href="#Kmeans">K-Means Clustering</a></li><li><a href="#TDRResults">Results of Time Domain Reduction</a></li><li><a href="#Reconstruction">Reconstruction</a></li><li><a href="#ExtPeriods">Extreme Periods</a></li><li><a href="#ObjVals">Objective Values and Representative Periods</a></li></ul><h3 id="Time-Domain-Reduction"><a class="docs-heading-anchor" href="#Time-Domain-Reduction">Time Domain Reduction</a><a id="Time-Domain-Reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Domain-Reduction" title="Permalink"></a></h3><p>To see how Time Domain Reduction works, let&#39;s look at the <code>Demand_data</code> in <code>example_systems/1_three_zones</code>:</p><pre><code class="language-julia hljs"># First, load all packages needed
using DataFrames
using CSV
using VegaLite
using YAML
using PlotlyJS
using Plots
using Clustering
using ScikitLearn
@sk_import datasets: (make_blobs)</code></pre><pre><code class="language-julia hljs">case = joinpath(&quot;example_systems/1_three_zones&quot;);</code></pre><pre><code class="language-julia hljs">loads =  CSV.read(joinpath(case,&quot;system/Demand_data.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><div><div style = "float: left;"><span>8760×12 DataFrame</span></div><div style = "float: right;"><span style = "font-style: italic;">8735 rows omitted</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Voll</th><th style = "text-align: left;">Demand_Segment</th><th style = "text-align: left;">Cost_of_Demand_Curtailment_per_MW</th><th style = "text-align: left;">Max_Demand_Curtailment</th><th style = "text-align: left;">$/MWh</th><th style = "text-align: left;">Rep_Periods</th><th style = "text-align: left;">Timesteps_per_Rep_Period</th><th style = "text-align: left;">Sub_Weights</th><th style = "text-align: left;">Time_Index</th><th style = "text-align: left;">Demand_MW_z1</th><th style = "text-align: left;">Demand_MW_z2</th><th style = "text-align: left;">Demand_MW_z3</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "String7" style = "text-align: left;">String7</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String3" style = "text-align: left;">String3</th><th title = "String7" style = "text-align: left;">String7</th><th title = "String7" style = "text-align: left;">String7</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">50000</td><td style = "text-align: left;">1</td><td style = "text-align: left;">1</td><td style = "text-align: left;">1</td><td style = "text-align: left;">2000</td><td style = "text-align: left;">1</td><td style = "text-align: left;">8760</td><td style = "text-align: left;">8760</td><td style = "text-align: right;">1</td><td style = "text-align: right;">7850</td><td style = "text-align: right;">2242</td><td style = "text-align: right;">1070</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;"></td><td style = "text-align: left;">2</td><td style = "text-align: left;">0.9</td><td style = "text-align: left;">0.04</td><td style = "text-align: left;">1800</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">2</td><td style = "text-align: right;">7424</td><td style = "text-align: right;">2120</td><td style = "text-align: right;">1012</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;"></td><td style = "text-align: left;">3</td><td style = "text-align: left;">0.55</td><td style = "text-align: left;">0.024</td><td style = "text-align: left;">1100</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">3</td><td style = "text-align: right;">7107</td><td style = "text-align: right;">2029</td><td style = "text-align: right;">969</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;"></td><td style = "text-align: left;">4</td><td style = "text-align: left;">0.2</td><td style = "text-align: left;">0.003</td><td style = "text-align: left;">400</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">4</td><td style = "text-align: right;">6947</td><td style = "text-align: right;">1984</td><td style = "text-align: right;">947</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">5</td><td style = "text-align: right;">6922</td><td style = "text-align: right;">1977</td><td style = "text-align: right;">944</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">6</td><td style = "text-align: right;">7045</td><td style = "text-align: right;">2012</td><td style = "text-align: right;">960</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">7</td><td style = "text-align: right;">7307</td><td style = "text-align: right;">2087</td><td style = "text-align: right;">996</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8</td><td style = "text-align: right;">7544</td><td style = "text-align: right;">2154</td><td style = "text-align: right;">1029</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">9</td><td style = "text-align: right;">7946</td><td style = "text-align: right;">2269</td><td style = "text-align: right;">1083</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">10</td><td style = "text-align: right;">8340</td><td style = "text-align: right;">2382</td><td style = "text-align: right;">1137</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">11</td><td style = "text-align: right;">8578</td><td style = "text-align: right;">2449</td><td style = "text-align: right;">1169</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">12</td><td style = "text-align: right;">8666</td><td style = "text-align: right;">2474</td><td style = "text-align: right;">1181</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">13</td><td style = "text-align: right;">8707</td><td style = "text-align: right;">2487</td><td style = "text-align: right;">1187</td></tr><tr><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8749</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8749</td><td style = "text-align: right;">10730</td><td style = "text-align: right;">3064</td><td style = "text-align: right;">1463</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8750</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8750</td><td style = "text-align: right;">10550</td><td style = "text-align: right;">3013</td><td style = "text-align: right;">1439</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8751</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8751</td><td style = "text-align: right;">10438</td><td style = "text-align: right;">2981</td><td style = "text-align: right;">1423</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8752</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8752</td><td style = "text-align: right;">10469</td><td style = "text-align: right;">2990</td><td style = "text-align: right;">1427</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8753</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8753</td><td style = "text-align: right;">11228</td><td style = "text-align: right;">3206</td><td style = "text-align: right;">1531</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8754</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8754</td><td style = "text-align: right;">11908</td><td style = "text-align: right;">3401</td><td style = "text-align: right;">1624</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8755</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8755</td><td style = "text-align: right;">11562</td><td style = "text-align: right;">3302</td><td style = "text-align: right;">1576</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8756</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8756</td><td style = "text-align: right;">9923</td><td style = "text-align: right;">3797</td><td style = "text-align: right;">1339</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8757</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8757</td><td style = "text-align: right;">9461</td><td style = "text-align: right;">3621</td><td style = "text-align: right;">1277</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8758</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8758</td><td style = "text-align: right;">9018</td><td style = "text-align: right;">3452</td><td style = "text-align: right;">1217</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8759</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8759</td><td style = "text-align: right;">8551</td><td style = "text-align: right;">3281</td><td style = "text-align: right;">1154</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8760</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: right;">8760</td><td style = "text-align: right;">8089</td><td style = "text-align: right;">3106</td><td style = "text-align: right;">1092</td></tr></tbody></table></div><p>The columns to note in this file are <code>Rep_Periods</code>, <code>TimeSteps_Per_Rep_Period</code>, <code>Time_Index</code>, and <code>Demand_MW_</code>. This file shows the number of time steps used in GenX before applying TDR, i.e. every hour in a year, totaling 8,760 hours. This means that there is only one representative period, as seen in <code>Rep_Periods</code>.</p><p>TDR performs a &quot;reduction&quot; into a specified number of &quot;representative periods&quot;, paring down the input data into a smaller set. The representative periods are then used in the GenX algorithm in place of the entire input data to reduce computation time. The TDR algorithm selects the representative periods to be the set of data whose results in GenX best match the results of the entire input data. To do this, TDR using k-means clustering, described in the next section.</p><p>When TDR is used, the file <code>time_domain_reduction_settings.yml</code> is called with a variety of specified settings, shown below:</p><pre><code class="language-julia hljs">time_domain_reduction_settings = YAML.load(open(joinpath(case,&quot;settings/time_domain_reduction_settings.yml&quot;)))</code></pre><pre><code class="nohighlight hljs">    Dict{Any, Any} with 15 entries:
      &quot;IterativelyAddPeriods&quot; =&gt; 1
      &quot;ExtremePeriods&quot;        =&gt; Dict{Any, Any}(&quot;Wind&quot;=&gt;Dict{Any, Any}(&quot;System&quot;=&gt;Di…
      &quot;UseExtremePeriods&quot;     =&gt; 1
      &quot;MinPeriods&quot;            =&gt; 8
      &quot;MaxPeriods&quot;            =&gt; 11
      &quot;DemandWeight&quot;          =&gt; 1
      &quot;ClusterFuelPrices&quot;     =&gt; 1
      &quot;nReps&quot;                 =&gt; 100
      &quot;MultiStageConcatenate&quot; =&gt; 0
      &quot;Threshold&quot;             =&gt; 0.05
      &quot;TimestepsPerRepPeriod&quot; =&gt; 168
      &quot;IterateMethod&quot;         =&gt; &quot;cluster&quot;
      &quot;ScalingMethod&quot;         =&gt; &quot;S&quot;
      &quot;ClusterMethod&quot;         =&gt; &quot;kmeans&quot;
      &quot;WeightTotal&quot;           =&gt; 8760</code></pre><p>Important here to note are <code>MinPeriods</code> and <code>MaxPeriods</code>. As TDR is performed, it is required to keep the number of representative periods to be between the min and max specified in the settings. This is to ensure that computation time is actually decreased and that the k-means algorithm doesn&#39;t just form one large cluster of all points. Additionally, <code>TimestepsPerRepPeriod</code> is set to 168, the number of hours in a week (<code>WeightTotal</code> includes all 8,760 timesteps, the number of hours in a year.) By specifying the number of timesteps in each representative period to be a week, we form 52 clusters from which the algorithm will choose 8-11.</p><p>For descriptions of all settings, see <a href="../../Model_Reference/TDR/#GenX.cluster_inputs"><code>cluster_inputs</code></a> in the documentation.</p><p>Now back to pre-TDR. Below shows the load per timestep in megawatts for the entire dataset, i.e. with only one representative period of 8760 hours. This is done for Zone 1:</p><pre><code class="language-julia hljs">loads |&gt;
@vlplot(:line, 
    x=:Time_Index, y=:Demand_MW_z1, title=&quot;MW Load per hour, No TDR&quot;,
    width=600,height=400,linewidth=.01)</code></pre><p><img src="../files/t3_demand.svg" alt="svg"/></p><p>As in <a href="../Tutorial_1_configuring_settings/#Tutorial-1:-Configuring-Settings">Tutorial 1: Configuring Settings</a>, we can open the <code>genx_settings.yml</code> file for <code>1_three_zones</code> to see how <code>TimeDomainReduction</code> is set. If it&#39;s set to 1, this means TDR is being used.</p><pre><code class="language-julia hljs">genx_settings_TZ = YAML.load(open((joinpath(case,&quot;settings/genx_settings.yml&quot;))))</code></pre><pre><code class="nohighlight hljs">    Dict{Any, Any} with 19 entries:
      &quot;NetworkExpansion&quot;                        =&gt; 1
      &quot;ModelingToGenerateAlternativeIterations&quot; =&gt; 3
      &quot;ParameterScale&quot;                          =&gt; 1
      &quot;EnergyShareRequirement&quot;                  =&gt; 0
      &quot;PrintModel&quot;                              =&gt; 0
      &quot;TimeDomainReduction&quot;                     =&gt; 1
      &quot;Trans_Loss_Segments&quot;                     =&gt; 1
      &quot;CapacityReserveMargin&quot;                   =&gt; 0
      &quot;ModelingtoGenerateAlternativeSlack&quot;      =&gt; 0.1
      &quot;MethodofMorris&quot;                          =&gt; 0
      &quot;StorageLosses&quot;                           =&gt; 1
      &quot;MultiStage&quot;                              =&gt; 0
      &quot;OverwriteResults&quot;                        =&gt; 0
      &quot;UCommit&quot;                                 =&gt; 2
      &quot;ModelingToGenerateAlternatives&quot;          =&gt; 0
      &quot;MaxCapReq&quot;                               =&gt; 0
      &quot;MinCapReq&quot;                               =&gt; 1
      &quot;CO2Cap&quot;                                  =&gt; 2
      &quot;WriteShadowPrices&quot;                       =&gt; 1</code></pre><p>To visualize how TDR decreases computation time, let&#39;s start by running <code>example_systems/1_three_zones</code> without TDR. In the third section of this tutorial, we&#39;ll run the example again using TDR.</p><p>To run GenX without TDR, we start by editing the settings to set <code>TimeDomainReduction</code> to 0:</p><pre><code class="language-julia hljs">genx_settings_TZ[&quot;TimeDomainReduction&quot;] = 0
genx_settings_TZ ## Output settings</code></pre><pre><code class="nohighlight hljs">    Dict{Any, Any} with 13 entries:
    &quot;NetworkExpansion&quot;       =&gt; 1
    &quot;ParameterScale&quot;         =&gt; 1
    &quot;EnergyShareRequirement&quot; =&gt; 0
    &quot;TimeDomainReduction&quot;    =&gt; 0
    &quot;Trans_Loss_Segments&quot;    =&gt; 1
    &quot;CapacityReserveMargin&quot;  =&gt; 0
    &quot;StorageLosses&quot;          =&gt; 1
    &quot;ComputeConflicts&quot;       =&gt; 1
    &quot;UCommit&quot;                =&gt; 2
    &quot;MaxCapReq&quot;              =&gt; 0
    &quot;MinCapReq&quot;              =&gt; 1
    &quot;CO2Cap&quot;                 =&gt; 2
    &quot;WriteShadowPrices&quot;      =&gt; 1</code></pre><p>Then we write the edited settings to the file path:</p><pre><code class="language-julia hljs">YAML.write_file((joinpath(case,&quot;settings/genx_settings.yml&quot;)), genx_settings_TZ)</code></pre><p>And run it using <code>include</code>. (Note: this process will take a few minutes):</p><pre><code class="language-julia hljs">@time include(&quot;example_systems/1_three_zones/Run.jl&quot;)</code></pre><p>Time elapsed for writing is     142.404724 seconds</p><p>This took a little while to run, and would take even longer for larger systems. Let&#39;s see how we can get the run time down using Time Domain Reduction. The next sections go over how K-means clustering is used to perform TDR, and how to interpret the resulting files in GenX.</p><h3 id="K-means-clustering"><a class="docs-heading-anchor" href="#K-means-clustering">K-means clustering</a><a id="K-means-clustering-1"></a><a class="docs-heading-anchor-permalink" href="#K-means-clustering" title="Permalink"></a></h3><p>Let&#39;s go over how TDR works. To perform TDR, GenX uses <strong>K-means clustering</strong>. <em>K</em>-means is an optimization method that clusters data into several groups based on their proximity to &quot;centers&quot; determined by the algorithm. </p><p><em>K</em>-means finds a set number of groups such that the variance between the distance of each point in the group to the mean of the group is minimized. </p><p class="math-container">\[\begin{align*}
\mathop{\arg \min}\limits_{\mathbf{S}} &amp; \sum_{i = 1}^k \sum_{x \in S_i} ||x - \mu_i||^2 \\
\end{align*}\]</p><p>Where <span>$\mathbf{S} = \{S_1, ... , S_k\}$</span> are the clusters, with <span>$x$</span> denoting the elements of the clusters, and <span>$\mu_i$</span> the mean of each cluster, i.e. the mean of the distances from each point to the center of the cluster. By taking the argmin over <span>$\mathbf{S}$</span>, the points <span>$x$</span> are clustered into groups where their distance to the center is the smallest. For more information on how <em>k</em>-means works, see the <a href="https://en.wikipedia.org/wiki/K-means_clustering">Wikipedia</a>. </p><p>GenX uses the package <code>Clustering.jl</code>, with documentation <a href="https://juliastats.org/Clustering.jl/dev/kmeans.html#K-means">here</a>. As an example, using the package <code>ScikitLearn.jl</code>, let&#39;s generate data that can cluster easily.</p><pre><code class="language-julia hljs">centers = 5
X, y = make_blobs(n_samples=50,centers=centers); # From scikit-learn
b = DataFrame(X,:auto)</code></pre><p>Note that clustering works for data without obvious groupings, but using blobs as an example makes <em>k</em>-means easier to visualize.</p><pre><code class="language-julia hljs">plotly()
Plots.scatter(b[!,&quot;x1&quot;],b[!,&quot;x2&quot;],legend=false,title=&quot;Before K-means Clustering&quot;)</code></pre><p><img src="../files/t3_nokmeans.png" alt="png"/></p><p>Now we use the function <code>kmeans</code>, which is also used in <code>src/time_domain_reduction</code> in GenX.</p><pre><code class="language-julia hljs">R = kmeans(transpose(Matrix(b)),centers)</code></pre><p><code>kmeans</code> returns three outputs: assignments, centers, and counts. Assignments shows to which cluster each points belongs, centers shows where the center coordinates of each cluster are, and counts shows how many points belong to each cluster.</p><pre><code class="language-julia hljs">println(&quot;Assignments = &quot;,R.assignments)
println(&quot;&quot;)
println(&quot;Counts = &quot;,R.counts)
println(&quot;&quot;)
println(&quot;Centers:&quot;)
R.centers</code></pre><pre><code class="language-julia hljs">plotly()
Plots.scatter(b[!,&quot;x1&quot;],b[!,&quot;x2&quot;],legend=false,marker_z=R.assignments,c=:lightrainbow,title=&quot;After K-means Clustering&quot;)</code></pre><p><img src="../files/t3_kmeans.png" alt="png"/></p><p>In GenX, the representative periods are the centers of the clusters, each representing one week of the year. In the above example that would mean there are 52 data points gathered into 11 clusters (to see this for yourself, change <code>make_blobs</code> to have 52 data points and 11 clusters.)</p><h3 id="Results-of-Time-Domain-Reduction"><a class="docs-heading-anchor" href="#Results-of-Time-Domain-Reduction">Results of Time Domain Reduction</a><a id="Results-of-Time-Domain-Reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Results-of-Time-Domain-Reduction" title="Permalink"></a></h3><p>To visualize the results of TDR, we&#39;ll set TDR = 1 back in the <code>genx_settings.yml</code> file in <code>example_systems/1_three_zones</code>:</p><pre><code class="language-julia hljs">genx_settings_TZ[&quot;TimeDomainReduction&quot;] = 1;</code></pre><pre><code class="language-julia hljs">genx_settings_TZ</code></pre><pre><code class="language-julia hljs">YAML.write_file((joinpath(case,&quot;settings/genx_settings.yml&quot;)), genx_settings_TZ)</code></pre><p>And run GenX again with TDR:</p><pre><code class="language-julia hljs">@time include(&quot;example_systems/1_three_zones/Run.jl&quot;)</code></pre><p>Csv files with the results of TDR are generated automatically in a folder called <code>TDR_results</code> found within the same folder containing the input csv files, in this case <code>example_systems/1_three_zones</code>. The csv files in this folder show the files used in <code>Run.jl</code> that have been pared down from the initial input files.</p><p>As an example, consider the input file <code>Fuels_data.csv</code>:</p><pre><code class="language-julia hljs">Fuels_original = CSV.read(joinpath(case,&quot;system/Fuels_data.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><p>Compared to <code>TDR_Results/Fuels_data.csv</code>:</p><pre><code class="language-julia hljs">Fuels_TDR = CSV.read(joinpath(case,&quot;TDR_Results/Fuels_data.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><p>As you can see, the original has all 8,760 hours, while the TDR version only has 1,848 hours.</p><pre><code class="language-julia hljs">loads_TDR = CSV.read(joinpath(case,&quot;TDR_Results/Demand_data.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><p>The 1,848 hours are divided into 11 sections of 168 hours, with each section representing one week of the original data.  The number of hours per representative period is set in <code>time_domain_reduction_settings.yml</code>. Also specified in the file are the minimum and maximum number of clusters we would like to have (in this case 8 and 11). The <em>k</em>-means algorithm will then select the number of clusters that should be sufficient to capture the GenX model in fewer time steps (in this case 11).</p><pre><code class="language-julia hljs">Gen_TDR = CSV.read(joinpath(case,&quot;TDR_Results/Generators_variability.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><pre><code class="language-julia hljs">generators = CSV.read(joinpath(case,&quot;system/Generators_variability.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><p>Below, we create arrays out of the representative weeks and plot them on the same plot used in the beginning of this tutorial. The file <code>Period_map</code> shows which periods (weeks) are used in TDR and which time step corresponds to each period:</p><pre><code class="language-julia hljs">Period_map = CSV.read(joinpath(case,&quot;TDR_Results/Period_map.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><div><div style = "float: left;"><span>52×3 DataFrame</span></div><div style = "float: right;"><span style = "font-style: italic;">27 rows omitted</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Period_Index</th><th style = "text-align: left;">Rep_Period</th><th style = "text-align: left;">Rep_Period_Index</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">3</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">4</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">5</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">6</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">7</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">8</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">9</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">10</td><td style = "text-align: right;">12</td><td style = "text-align: right;">3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: right;">11</td><td style = "text-align: right;">12</td><td style = "text-align: right;">3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: right;">12</td><td style = "text-align: right;">12</td><td style = "text-align: right;">3</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: right;">13</td><td style = "text-align: right;">12</td><td style = "text-align: right;">3</td></tr><tr><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td><td style = "text-align: right;">&vellip;</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">41</td><td style = "text-align: right;">41</td><td style = "text-align: right;">20</td><td style = "text-align: right;">5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">42</td><td style = "text-align: right;">42</td><td style = "text-align: right;">20</td><td style = "text-align: right;">5</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">43</td><td style = "text-align: right;">43</td><td style = "text-align: right;">23</td><td style = "text-align: right;">6</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">44</td><td style = "text-align: right;">44</td><td style = "text-align: right;">17</td><td style = "text-align: right;">4</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">45</td><td style = "text-align: right;">45</td><td style = "text-align: right;">48</td><td style = "text-align: right;">10</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">46</td><td style = "text-align: right;">46</td><td style = "text-align: right;">48</td><td style = "text-align: right;">10</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">47</td><td style = "text-align: right;">47</td><td style = "text-align: right;">48</td><td style = "text-align: right;">10</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">48</td><td style = "text-align: right;">48</td><td style = "text-align: right;">48</td><td style = "text-align: right;">10</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">49</td><td style = "text-align: right;">49</td><td style = "text-align: right;">49</td><td style = "text-align: right;">11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">50</td><td style = "text-align: right;">50</td><td style = "text-align: right;">49</td><td style = "text-align: right;">11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">51</td><td style = "text-align: right;">51</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">52</td><td style = "text-align: right;">52</td><td style = "text-align: right;">8</td><td style = "text-align: right;">2</td></tr></tbody></table></div><pre><code class="language-julia hljs"># Find array of unique representative periods
rep_periods = unique(Period_map[!,&quot;Rep_Period&quot;])

# Create an array of the time steps and MW values of each representative period
weeks_load = []
for i in rep_periods
    week_temp_loads = [repeat([i],168) loads[(168*i-167):168*i,&quot;Time_Index&quot;] loads[(168*i-167):168*i,&quot;Demand_MW_z1&quot;]]
    weeks_load = [weeks_load; week_temp_loads]
end

# Combine with Total (pre TDR)
loads_plot = [repeat([&quot;Total&quot;],8760) loads[!,&quot;Time_Index&quot;] loads[!,&quot;Demand_MW_z1&quot;]];

# Add column names and convert column type
loads_with_TDR = [loads_plot; weeks_load]
loads_with_TDR = DataFrame(loads_with_TDR ,[&quot;Week&quot;,&quot;hour&quot;, &quot;MW&quot;])
loads_with_TDR[!,:hour] = convert.(Int64,loads_with_TDR[!,:hour]);
loads_with_TDR[!,:MW] = convert.(Float64,loads_with_TDR[!,:MW]);</code></pre><pre><code class="language-julia hljs">loads_with_TDR  |&gt;
@vlplot(mark={:line},
    x={:hour,title=&quot;Time Step (hours)&quot;,labels=&quot;Week:n&quot;}, y={:MW,title=&quot;Load (MW)&quot;},
    color={&quot;Week:n&quot;, scale={scheme=&quot;paired&quot;},sort=&quot;decsending&quot;}, title=&quot;MW Load per hour with TDR Representative Weeks&quot;,
    width=845,height=400)</code></pre><p><img src="../files/t3_TDR_demand.svg" alt="svg"/></p><p>TDR is performed for four total data sets: demand (found in Demand.csv), wind and solar (found in Generators_variability.csv), and fuel prices (found in Fuels.csv). Above is just the demand load for one of the three total nodes in the example system, which is why the data may not appear to &quot;represent&quot; all 52 weeks (notice there are fewer representative periods in the fall). Instead, the periods more accurately represent all the data time series combined, including some other parts of the data not seen in this particular plot.</p><h3 id="Extreme-Periods-Off"><a class="docs-heading-anchor" href="#Extreme-Periods-Off">Extreme Periods Off</a><a id="Extreme-Periods-Off-1"></a><a class="docs-heading-anchor-permalink" href="#Extreme-Periods-Off" title="Permalink"></a></h3><p>GenX has a feature called <code>ExtremePeriods</code>, which forces kmeans to include the highest and lowest points in the algorithm. This is done to ensure outliers are used, which is needed in planning energy capacity as the system needs to be able to account for outliers in energy needs. In the above graph, we can see that energy needs peak during the summer, and that the week with the highest load demand is included as a representative week. Let&#39;s try turning extreme periods off, and see what happens. move this up</p><pre><code class="language-julia hljs">time_domain_reduction_settings[&quot;ExtremePeriods&quot;] = 0;
YAML.write_file(joinpath(case,&quot;settings/genx_settings.yml&quot;), genx_settings_TZ);
rm(joinpath(case,&quot;TDR_results&quot;), recursive=true) </code></pre><pre><code class="language-julia hljs">include(&quot;example_systems/1_three_zones/Run.jl&quot;)</code></pre><pre><code class="language-julia hljs">Loads_TDR2 = CSV.read(joinpath(case,&quot;TDR_Results/Load_data.csv&quot;),DataFrame,missingstring=&quot;NA&quot;);
Period_map2 = CSV.read(joinpath(case,&quot;TDR_Results/Period_map.csv&quot;),DataFrame,missingstring=&quot;NA&quot;);</code></pre><pre><code class="language-julia hljs">rep_periods2 = unique(Period_map2[!,&quot;Rep_Period&quot;])

weeks2 = []
for i in rep_periods2
    week_temp = [repeat([i],168) loads[(168*i-167):168*i,&quot;Time_Index&quot;] loads[(168*i-167):168*i,&quot;Demand_MW_z1&quot;]]
    weeks2 = [weeks2; week_temp]
end

weeks2 = [weeks2 repeat([&quot;Off&quot;],1848)];</code></pre><pre><code class="language-julia hljs">loads_plotOff = [repeat([&quot;Total&quot;],8760) loads[!,&quot;Time_Index&quot;] loads[!,&quot;Demand_MW_z1&quot;] repeat([&quot;Off&quot;],8760) ];
loads_with_TDR[!,&quot;Extreme_Periods&quot;] = repeat([&quot;On&quot;],length(loads_with_TDR[!,1]));
loads_with_TDR2 = [loads_plotOff; weeks2]</code></pre><pre><code class="language-julia hljs">loads_with_TDR2 = DataFrame(loads_with_TDR2 ,[&quot;Week&quot;,&quot;hour&quot;,&quot;MW&quot;,&quot;Extreme_Periods&quot;])
loads_with_TDR2[!,:hour] = convert.(Int64,loads_with_TDR2[!,:hour]);
loads_with_TDR2[!,:MW] = convert.(Float64,loads_with_TDR2[!,:MW]);</code></pre><pre><code class="language-julia hljs"># Define a new color scheme to accomodate more periods
myscheme = [&quot;#a6cee3&quot;,&quot;#a6cee3&quot;,&quot;#1f78b4&quot;,&quot;#b2df8a&quot;,&quot;#33a02c&quot;,&quot;#fb9a99&quot;,&quot;#e31a1c&quot;,&quot;#fdbf6f&quot;,&quot;#ff7f00&quot;,
    &quot;#cab2d6&quot;,&quot;#6a3d9a&quot;,&quot;#ffff99&quot;,&quot;#b15928&quot;,&quot;#b1ff00&quot;,&quot;#095768&quot;,&quot;#ce7e00&quot;,&quot;#b4a7d6&quot;];
[loads_with_TDR; loads_with_TDR2] |&gt;
@vlplot(mark={:line}, row=&quot;Extreme_Periods:n&quot;,
    x={:hour,title=&quot;Time Step (hours)&quot;,labels=&quot;Week:n&quot;}, y={:MW,title=&quot;Load (MW)&quot;},
    color={&quot;Week:n&quot;, scale={scheme=&quot;paired&quot;},sort=&quot;decsending&quot;}, 
    title=&quot;MW Load per hour with TDR Representative Weeks, Extreme Periods Off&quot;,
    width=845,height=300)</code></pre><p><img src="../files/t3_ext_periods.svg" alt="svg"/></p><p>The first plot (with Extreme Periods off) may not have the week with the highest peak highlighted. If the week with the highest demand is highlighted, try re-running the cell with Extreme Periods Off plotting the results.</p><p>Turn Extreme Periods back on:</p><pre><code class="language-julia hljs">time_domain_reduction_settings[&quot;ExtremePeriods&quot;] = 1;
YAML.write_file(joinpath(case,&quot;settings/time_domain_reduction_settings.yml&quot;), time_domain_reduction_settings);
rm(joinpath(case,&quot;TDR_results&quot;), recursive=true) </code></pre><h3 id="Reconstruction"><a class="docs-heading-anchor" href="#Reconstruction">Reconstruction</a><a id="Reconstruction-1"></a><a class="docs-heading-anchor-permalink" href="#Reconstruction" title="Permalink"></a></h3><p>Below is a plot of a reconstruction of the data using only the weeks isolated as representative periods. This is what GenX reads when it runs the solver with TDR on.</p><pre><code class="language-julia hljs">recon = []
recon_noex = []
for i in range(1,52)
    index = Period_map[i,&quot;Rep_Period&quot;]
    recon_temp = [repeat([index],168) collect((168*i-167):168*i) loads[(168*index-167):168*index,&quot;Demand_MW_z1&quot;]]
    recon = [recon; recon_temp]
    
    index2 = Period_map2[i,&quot;Rep_Period&quot;]
    recon_noex_temp = [repeat([index2],168) collect((168*i-167):168*i) loads[(168*index2-167):168*index2,&quot;Demand_MW_z1&quot;]]
    recon_noex = [recon_noex; recon_noex_temp]
end

recon = DataFrame(recon,[&quot;Week&quot;,&quot;hour&quot;, &quot;MW&quot;])
recon[!,:hour] = convert.(Int64,recon[!,:hour]);
recon[!,:MW] = convert.(Float64,recon[!,:MW]);
recon[!,&quot;Extreme_Periods&quot;] = repeat([&quot;On&quot;],length(recon[!,1]));

recon_noex = [recon_noex repeat([&quot;Off&quot;],8736)];
recon_noex = DataFrame(recon_noex,[&quot;Week&quot;,&quot;hour&quot;, &quot;MW&quot;, &quot;Extreme_Periods&quot;])
recon_noex[!,:hour] = convert.(Int64,recon_noex[!,:hour]);
recon_noex[!,:MW] = convert.(Float64,recon_noex[!,:MW]);</code></pre><pre><code class="language-julia hljs">plotlyjs()
G1 = Plots.plot(recon_noex[!,:hour], recon_noex[!,:MW], linewidth=1.7,
    xticks=0:500:9000,xlabelfontsize=8,
    yticks=0:2000:18000,yformatter =:plain,ylims=(0,18000), ylabel=&quot;Demand (MW)&quot;,
    legend=false, title=&quot;Reconstruction, Extreme Periods Off&quot;, hover=recon_noex[!,:Week],
    color=recon_noex[!,:Week],size=(845,800),palette=:Paired_12)

G2 = Plots.plot(recon[!,:hour], recon[!,:MW], linewidth=1.7,
    xticks=0:500:9000,xlabel=&quot;Time Step (Hours)&quot;,xlabelfontsize=8,
    ylims=(0,18000),yticks=0:2000:18000,yformatter =:plain,ylabel=&quot;Demand (MW)&quot;,
    legend=false, title=&quot;Reconstruction, Extreme Periods On&quot;,hover=recon[!,:Week],
    color=recon[!,:Week],size=(845,800),palette=:Paired_12)

Plots.plot(G1,G2,layout=(2,1))</code></pre><p><img src="../files/t3_recon.png" alt="png"/></p><p>Each color represents one of the representative weeks.</p><p>The range of 8-11 representative periods was chosen by the developers because it was deemed to be the smallest set that still matches the optimal value of the data well. The next section of this Tutorial goes over how the optimal values of the data change as the number of representative periods changes.</p><h3 id="Objective-Values-and-Representative-Periods"><a class="docs-heading-anchor" href="#Objective-Values-and-Representative-Periods">Objective Values and Representative Periods</a><a id="Objective-Values-and-Representative-Periods-1"></a><a class="docs-heading-anchor-permalink" href="#Objective-Values-and-Representative-Periods" title="Permalink"></a></h3><p>Each time <code>Run.jl</code> is run, a <code>results</code> folder is produced. This folder contains numerous .csv files with output variable from the GenX model. For more information on all outputs, see the documentation <a href="../../User_Guide/model_output/#GenX-Outputs">GenX Outputs</a>.</p><p>This section focuses on the <strong>objective value</strong> of the model. In optimization problems, the objective value is the main value minimized or maximized within the constraints of the model, according to the <strong>objective function</strong> specified in the problem formulation. In the case of GenX, the objective function is the total annual electricity system cost. A detailed description of the optimization problem is <a href="../../Model_Concept_Overview/objective_function/#Objective-Function">Objective Function</a> in the documentation. </p><p>For the purpose of this tutorial, we focus on the objective value as a way to evaluate how well the representative periods actually &quot;represent&quot; the entire model. To see how well the objective value of representative periods aligns with that of the total period, we can run <code>example_systems/1_three_zone</code> with a variety of minimum and maximum total periods.</p><pre><code class="language-julia hljs">time_domain_reduction_settings</code></pre><pre><code class="nohighlight hljs">    Dict{Any, Any} with 15 entries:
    &quot;IterativelyAddPeriods&quot; =&gt; 1
    &quot;ExtremePeriods&quot;        =&gt; 1
    &quot;UseExtremePeriods&quot;     =&gt; 1
    &quot;MinPeriods&quot;            =&gt; 8
    &quot;MaxPeriods&quot;            =&gt; 11
    &quot;DemandWeight&quot;          =&gt; 1
    &quot;ClusterFuelPrices&quot;     =&gt; 1
    &quot;nReps&quot;                 =&gt; 100
    &quot;MultiStageConcatenate&quot; =&gt; 0
    &quot;Threshold&quot;             =&gt; 0.05
    &quot;TimestepsPerRepPeriod&quot; =&gt; 168
    &quot;IterateMethod&quot;         =&gt; &quot;cluster&quot;
    &quot;ScalingMethod&quot;         =&gt; &quot;S&quot;
    &quot;ClusterMethod&quot;         =&gt; &quot;kmeans&quot;
    &quot;WeightTotal&quot;           =&gt; 8760</code></pre><p>Each time Run.jl is run, a new results folder appears in the model folder. These folders are not overwritten. So far, we&#39;ve run the model three times, so we should have three results folders in the 1<em>three</em>zones folder, but you may have more if you&#39;ve run the model more. To ensure that the following code works, we&#39;ll delete any results folders beyond the original.</p><pre><code class="language-julia hljs">folders = cd(readdir,case)</code></pre><pre><code class="nohighlight hljs">    10-element Vector{String}:
    &quot;.DS_Store&quot;
    &quot;README.md&quot;
    &quot;Run.jl&quot;
    &quot;policies&quot;
    &quot;resources&quot;
    &quot;results&quot;
    &quot;results_1&quot;
    &quot;results_2&quot;
    &quot;settings&quot;
    &quot;system&quot;</code></pre><pre><code class="language-julia hljs">for folder in folders
    if length(folder) &gt;= 8 &amp;&amp; folder[1:8] == &quot;results_&quot;
        rm(&quot;example_systems/1_three_zones/&quot; * folder,recursive=true) 
    end
end
     
cd(readdir,case) ## Make sure they were deleted</code></pre><pre><code class="nohighlight hljs">    8-element Vector{String}:
    &quot;.DS_Store&quot;
    &quot;README.md&quot;
    &quot;Run.jl&quot;
    &quot;policies&quot;
    &quot;resources&quot;
    &quot;results&quot;
    &quot;settings&quot;
    &quot;system&quot;</code></pre><p>To demonstrate how the objective value changes as the number of representative periods does, we&#39;ll run GenX ten times, each with a different number of periods, and plot the objective values.</p><pre><code class="language-julia hljs"># Change MinPeriods and Max Periods, run `Run.jl`
# For simplicity, keep min and max periods the same
rep_periods = [4, 8, 12, 24, 36, 48]
times = [0.0,0.0,0.0,0.0,0.0,0.0]

for i in range(1,6)
    println(&quot; &quot;)
    println(&quot;----------------------------------------------------&quot;)
    println(&quot;Iteration &quot;,i)
    println(&quot;Periods = &quot;,rep_periods[i])
    println(&quot;----------------------------------------------------&quot;)
    time_domain_reduction_settings[&quot;MinPeriods&quot;] = rep_periods[i]
    time_domain_reduction_settings[&quot;MaxPeriods&quot;] = rep_periods[i]
    if &quot;TDR_Results&quot; in cd(readdir,case)
        rm(joinpath(case,&quot;TDR_results&quot;, recursive=true)) 
    end
    println(&quot; &quot;)
    YAML.write_file(joinpath(case,&quot;settings/time_domain_reduction_settings.yml&quot;), time_domain_reduction_settings)
    time = @elapsed include(&quot;example_systmes/1_three_zones/Run.jl&quot;)
    times[i] = time
end</code></pre><p>Note that as the number of periods increases, so does the time it takes to run.</p><p>Now, let&#39;s check that we have the correct Results folders and process the objecive values to plot. There should be seven results folders, including the original <code>results</code>.</p><pre><code class="language-julia hljs">cd(readdir,case)</code></pre><p>The objective value is found in the files <code>costs.csv</code> and <code>status.csv</code>.</p><pre><code class="language-julia hljs">status = CSV.read(joinpath(case,&quot;results/status.csv&quot;),DataFrame,missingstring=&quot;NA&quot;)</code></pre><pre><code class="nohighlight hljs"> 1×3 DataFrame
    Row  Status     Solve       Objval
         String     Float64     String
    ─────────────────────────────────────
     1	 OPTIMAL	53.9481	    9762.44</code></pre><pre><code class="language-julia hljs"># Find objective values from each results folder:

OV_noTDR = CSV.read(joinpath(case,&quot;Results/status.csv&quot;),DataFrame);
OV_RP4 = CSV.read(joinpath(case,&quot;Results_1/status.csv&quot;),DataFrame);
OV_RP8 = CSV.read(joinpath(case,&quot;Results_2/status.csv&quot;),DataFrame);
OV_RP12 = CSV.read(joinpath(case,&quot;Results_3/status.csv&quot;),DataFrame);
OV_RP24 = CSV.read(joinpath(case,&quot;Results_4/status.csv&quot;),DataFrame);
OV_RP36 = CSV.read(joinpath(case,&quot;Results_5/status.csv&quot;),DataFrame);
OV_RP48 = CSV.read(joinpath(case,&quot;Results_6/status.csv&quot;),DataFrame);</code></pre><pre><code class="language-julia hljs"># Isolate the objective values from the data frame
obj_val_tot = [1 OV_noTDR[!,3]; 
               4 OV_RP4[!,3];
               8 OV_RP8[!,3];
               12 OV_RP12[!,3]; 
               24 OV_RP24[!,3]; 
               36 OV_RP36[!,3]; 
               48 OV_RP48[!,3]]</code></pre><pre><code class="language-julia hljs"># Take the absolute difference between the original objective value and the new ones
obj_val_plot = [4 abs(OV_noTDR[!,3][1]-OV_RP4[!,3][1]); 
                8 abs(OV_noTDR[!,3][1]-OV_RP8[!,3][1]); 
                12 abs(OV_noTDR[!,3][1]-OV_RP12[!,3][1]);
                24 abs(OV_noTDR[!,3][1]-OV_RP24[!,3][1]); 
                36 abs(OV_noTDR[!,3][1]-OV_RP36[!,3][1]); 
                48 abs(OV_noTDR[!,3][1]-OV_RP48[!,3][1])]</code></pre><pre><code class="language-julia hljs"># Plot the differences as a function of number of representative periods
plotlyjs()
Plots.scatter(obj_val_plot[:,1],obj_val_plot[:,2],hover=obj_val_plot[:,2],legend=false,xticks=obj_val_plot[:,1],
                ylabel=&quot;|ObjValue[1] - ObjValue[x]|&quot;,xlabel=&quot;Rep Periods&quot;,title=&quot;Difference in Objective Values&quot;)
scatter!(twinx(),obj_val_plot[:,1],times,color=:red,markeralpha=.5,label=:&quot;Time&quot;,legend=:topleft,
    yaxis=(label=&quot;Time&quot;))
ygrid!(:on, :dashdot, 0.1)</code></pre><p><img src="../files/t3_obj_vals.svg" alt="svg"/></p><p>Here, we can see that while having very few representative periods produces an objective value that differs greatly from the orignal, once we reach around 12 representative periods the difference begins to taper out. Therefore, the original choice of 11 maximum periods in <code>1_three_zones</code> decreases the run time of GenX significantly while while maintaining an objective value close to the original. </p><p>It&#39;s important to note, however, that  the difference does not always taper out, and for some systems you&#39;ll find that the error in objective value continues to decrease as the number of representative periods increases. There also is no way to know apriori what number of periods works.</p><p>Finally, let&#39;s set TDR to have 8 and 11 min/max periods again, and delete the TDR Results folder.</p><pre><code class="language-julia hljs">time_domain_reduction_settings[&quot;MinPeriods&quot;] = 8;
time_domain_reduction_settings[&quot;MaxPeriods&quot;] = 11;</code></pre><pre><code class="language-julia hljs">time_domain_reduction_settings</code></pre><pre><code class="language-julia hljs">rm(joinpath(case,&quot;TDR_results&quot;, recursive=true))</code></pre><pre><code class="language-julia hljs">rm(joinpath(case,&quot;TDR_results&quot;), recursive=true) 
YAML.write_file(joinpath(case,&quot;settings/time_domain_reduction_settings.yml&quot;), time_domain_reduction_settings)
folders = cd(readdir,case)
for folder in folders
    if length(folder) &gt;= 7 &amp;&amp; folder[1:7] == &quot;results&quot;
        rm(&quot;example_systems/1_three_zones/&quot; * folder,recursive=true) 
    end
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Tutorial_2_network_visualization/">« Tutorial 2: Network Visualization</a><a class="docs-footer-nextpage" href="../Tutorial_4_model_generation/">Tutorial 4: Model Generation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Monday 12 August 2024 15:09">Monday 12 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
